(this.webpackJsonphealth_care_frontend=this.webpackJsonphealth_care_frontend||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/arrow_down_gray.5d226fb5.svg"},108:function(e,t,a){e.exports=a.p+"static/media/arrow_up_gray.45f3b473.svg"},113:function(e,t,a){},124:function(e,t,a){e.exports=a.p+"static/media/enter-waiting-room.deadebb6.svg"},125:function(e,t,a){e.exports=a.p+"static/media/Make-a-video.e2ec758b.svg"},126:function(e,t,a){e.exports=a.p+"static/media/Request-email.068d2c82.svg"},127:function(e,t,a){e.exports=a.p+"static/media/icon_My_Consultations_blue.6e1e3769.svg"},131:function(e,t,a){e.exports=a.p+"static/media/mute.c267d2ff.svg"},132:function(e,t,a){e.exports=a.p+"static/media/unmute.67f266f4.svg"},133:function(e,t,a){e.exports=a.p+"static/media/hang-up.6d9b1674.svg"},134:function(e,t,a){e.exports=a.p+"static/media/camera-off.b84e1688.svg"},135:function(e,t,a){e.exports=a.p+"static/media/camera-on.8538bb5b.svg"},136:function(e,t,a){e.exports=a.p+"static/media/Extend-screen.94bb76db.svg"},148:function(e,t,a){e.exports=a.p+"static/media/arrow-left.3af5ffee.svg"},149:function(e,t,a){e.exports=a.p+"static/media/arrow-right.010e4ba3.svg"},155:function(e,t,a){},171:function(e,t,a){e.exports=a.p+"static/media/logo.bd28d0e7.svg"},174:function(e,t,a){e.exports=a.p+"static/media/burger.dc2b0298.svg"},175:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAaCAYAAAC6nQw6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpiYqASYAIR////TwDi9//JAyB9CQxQg0Cc+UCsQIorQOqh+t7DBP6TagiaYf/hBlESPiD9TFQNbKobBHRhA4kx1oDhx9EwGg2j0TCiNIwaiPLjMA4jSspsZA7VahGK6zWAAAMAJ8ajEvfR41QAAAAASUVORK5CYII="},176:function(e,t,a){e.exports=a.p+"static/media/icon_settings_white.9eb912d5.svg"},185:function(e,t,a){},197:function(e,t,a){},239:function(e,t,a){e.exports=a.p+"static/media/C-doctor_photo.1c407dfb.jpg"},240:function(e,t,a){e.exports=a.p+"static/media/icon_sign-up.b3d89f60.svg"},241:function(e,t,a){e.exports=a.p+"static/media/icon_Request-consultation.9c498def.svg"},242:function(e,t,a){e.exports=a.p+"static/media/icon_Payment.8637fce8.svg"},243:function(e,t,a){e.exports=a.p+"static/media/icon_Dashboard.2215b8e5.svg"},244:function(e,t,a){e.exports=a.p+"static/media/icon_Consult-with-doctor.849a5cd2.svg"},245:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_on-line_46px.f625c17e.svg"},246:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_on-line_46px.3f75bc40.svg"},247:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_off-line_46px.6b7c020b.svg"},249:function(e,t,a){e.exports=a.p+"static/media/My_Patients_white.779c6df6.svg"},250:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcZJREFUeNqsVe1xwjAMJVz/lxEyQjYg3SDdIN0AJiidIN0g3QA2yDGB2YBsYJjAlcgzJ4Rsyl11p3NiWU8fluRilqEQwoKWhnhJXArRSLwn3hVFcUrpFwlQBvokbolZ+QCwSGysImbjP8RfZGScPSICbok98ZG//3D2iPPtI+BNmKjTkUAWuVTyDnqbnBdBeyD22cMBa+5cOzM884bHDRRWfLlYN8JAY0TgbyKjn54VjGhcDBdKHt7HfWfosOH+Wm5mOJMsACzAgYXOcya9i2t1JO6BqU7Iagscskv1zFGzh0QBnVTzSCoht4jxlnMc2icO7Yg7mQ7RuR3kFjFeOX/QU2u0ukP6atyNw/46p/ySE/LcILAPgPVK/JabKxF8RN6ti6kE6DfxmfiVeMX7JH8nA9Z9LS+4VrWgPGNLB9S1E3UuZdadTLNG1zn+I1AL5cGYJ0EMORcN3NS57lBat1Co8D+I7qzUWGgwOi5z565D1WwZdOPgv0QEW7HXxyZioyJ9Xkcpw3FG/hoBUIl578W5bWqMaAOdmvFHNcSquKp53j71EsUZAs9uHoqnXiJ1Bz1AvSi5+BINYr+/y3Hugf6v1/9XgAEAM7QqbBmABNwAAAAASUVORK5CYII="},251:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_white_23px.64c488b4.svg"},252:function(e,t,a){e.exports=a.p+"static/media/icon_calendar_white.de474e09.svg"},253:function(e,t,a){e.exports=a.p+"static/media/icon_alerts_white.d12b9584.svg"},254:function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_white.c6d03319.svg"},259:function(e,t,a){e.exports=a.p+"static/media/My_Patients_blue.c5526b72.svg"},260:function(e,t,a){e.exports=a.p+"static/media/icon_doctor_2_blue.25624e1c.svg"},269:function(e,t,a){e.exports=a(475)},288:function(e,t,a){},291:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},339:function(e,t){},341:function(e,t){},349:function(e,t,a){},350:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/password-seen.0ae822f1.svg"},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/password-hidden.3b037049.svg"},420:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/c+.d28371ae.svg"},443:function(e,t){},475:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),s=a(24),c=a.n(s),r=(a(113),a(12)),i=a(13),o=a(15),d=a(14),m=a(21),u=a(45),p=a(23),h=a(264),g=a(22),f=a.n(g),E=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getChildContext",value:function(){return{sagaMiddleware:this.props.sagaMiddleware}}},{key:"render",value:function(){return this.props.children||null}}]),a}(l.a.Component);E.childContextTypes={sagaMiddleware:f.a.any.isRequired};var v=E,b=(a(185),a(71)),y=a(237);function N(e){return{type:"USERS_LOGIN_REQUEST",user:e}}a(283);var x=a(238),S=a(34),C=Object(S.fromJS)({isLoggedIn:!1}),k=S.default.fromJS({doctor:""}),w=S.default.fromJS({subject:""}),O=S.default.fromJS({spec:""}),D=S.default.fromJS({examID:null}),P=S.default.fromJS({clientID:[]}),j=Object(S.fromJS)({doctor:""}),I=Object(S.fromJS)({popUp:!1}),M=Object(S.fromJS)({statusChanged:""}),A=Object(x.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOGIN_REQUEST":return e.set("user",t.user);case"USERS_LOGIN_SUCCESS":return e.set("isLoggedIn",!0);case"USERS_LOGIN_FAILURE":return e.set("isLoggedIn",!1);default:return e}},doctorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOCTOR_OBJ":return e.set("doctor",t.doctor);default:return e}},subjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBJECT":return e.set("subject",t.subject);default:return e}},specReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPEC_OBJ":return e.set("spec",t.spec);default:return e}},examReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXAM_ID":return e.set("examID",t.exam);default:return e}},clientReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT":return e.set("clientID",t.client);default:return e}},docReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURENTDOC":return e.set("doctor",t.payload);default:return e}},popUpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPUP":return e.set("popUp",!0);case"POPUPFALSE":return e.set("popUp",!1);default:return e}},doctorStatusWRReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUSCHANGEWR":return e.set("statusChanged",t.payload);default:return e}}}),_=a(43),F=a.n(_),V=a(239),T=a.n(V),R=a(240),B=a.n(R),Y=a(241),z=a.n(Y),L=a(242),U=a.n(L),q=a(243),W=a.n(q),H=a(244),J=a.n(H),G=function(e){e.props;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"headers"},l.a.createElement("img",{src:T.a,alt:"slika"}),l.a.createElement("div",{className:"headersInfo"},l.a.createElement("img",{src:F.a,alt:"logo"}),l.a.createElement("h1",null,"Online consultation service"),l.a.createElement("h4",null,"Secure. Simple. Comfortable.")),l.a.createElement("div",{className:"MainDivInfo"},l.a.createElement("div",{className:"firstDivInfo"},l.a.createElement("p",{className:"iconAbove1"},"1"),l.a.createElement("h1",{className:"signUp"},"SIGN UP"),l.a.createElement("p",null,"Create account",l.a.createElement("br",null),"whether you are",l.a.createElement("br",null),"Doctor or a Client"),l.a.createElement("img",{src:B.a,alt:"logo"})),l.a.createElement("div",{className:"secondDivInfo"},l.a.createElement("p",{className:"iconAbove2"},"2"),l.a.createElement("h1",{className:"requestConsu"},"REQUEST",l.a.createElement("br",null),"CONSULTATION"),l.a.createElement("p",null,"Choose available",l.a.createElement("br",null),"physician. Request",l.a.createElement("br",null),"email consultation,",l.a.createElement("br",null),"make video",l.a.createElement("br",null),"appointment or use",l.a.createElement("br",null),"virtual waiting room"),l.a.createElement("img",{src:z.a,alt:"logo"})),l.a.createElement("div",{className:"thirdDivInfo"},l.a.createElement("p",{className:"iconAbove3"},"3"),l.a.createElement("h1",{className:"conswithD"},"CONSULT WITH",l.a.createElement("br",null),"DOCTOR"),l.a.createElement("p",null,"Once doctor accepts",l.a.createElement("br",null),"client request, use",l.a.createElement("br",null),"email or video for your",l.a.createElement("br",null),"consultation"),l.a.createElement("img",{src:J.a,alt:"logo"})),l.a.createElement("div",{className:"fourthDivInfo"},l.a.createElement("p",{className:"iconAbove4"},"4"),l.a.createElement("h1",{className:"securePay"},"SECURE",l.a.createElement("br",null),"PAYMENT"),l.a.createElement("p",null,"Make secure payment",l.a.createElement("br",null),"with your credit card",l.a.createElement("br",null),"or Pay-pal"),l.a.createElement("img",{src:U.a,className:"payment",alt:"logo"})),l.a.createElement("div",{className:"fifthDivInfo"},l.a.createElement("p",{className:"iconAbove5"},"5"),l.a.createElement("h1",{className:"clientDash"},"CLIENT",l.a.createElement("br",null),"DASHBOARD"),l.a.createElement("p",null,"All client information is",l.a.createElement("br",null),"in one place. You can",l.a.createElement("br",null),"access your profile,",l.a.createElement("br",null),"check consultation",l.a.createElement("br",null),"history and see alerts",l.a.createElement("br",null),"for ongoing",l.a.createElement("br",null),"consultations."),l.a.createElement("img",{src:W.a,alt:"logo"})))))},Q=a(85),Z=(a(288),a(171)),K=a.n(Z),X=function(){return{type:"POPUP"}},$=function(){return{type:"POPUPFALSE"}},ee=a(33),te="false"===sessionStorage.getItem("is_doctor")?function(e){var t=Object(n.useState)(60),a=Object(Q.a)(t,2),s=a[0],c=a[1],r=Object(ee.g)(),i=Object(ee.h)();Object(n.useEffect)((function(){"/client/waiting-room"===i.pathname&&e.popUpFalse()}),[]),Object(n.useEffect)((function(){e.popUp&&o()}),[e.popUp]);var o=function(){var e=setInterval((function(){0===s?(clearInterval(e),r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})):c(s--)}),1e3)};return l.a.createElement(n.Fragment,null,l.a.createElement(m.b,{to:"/"},l.a.createElement("img",{src:K.a,alt:"logo"})),e.popUp&&l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"duca1"}),l.a.createElement("div",{className:"duca"},l.a.createElement("h4",null,"0:",s<10&&"0",s),l.a.createElement("h1",null,"Your WR video consultation is ready"),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:function(){r.push("/client/waiting-room")}},"Connect"),l.a.createElement("button",{style:{background:"lightcoral"},onClick:function(){r.push({pathname:"/client/waiting-room",state:{detail:"exitQueue"}})}},"Reject")))))}:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(m.b,{to:"/"},l.a.createElement("img",{src:K.a,alt:"logo"})))},ae=Object(p.b)((function(e){return{popUp:e.getIn(["popUpReducer","popUp"])}}),(function(e){return Object(u.bindActionCreators)({popUpFalse:$},e)}))(te),ne=a(7),le=a.n(ne),se=a(11),ce=(a(291),a(18)),re=a(245),ie=a.n(re),oe=a(246),de=a.n(oe),me=a(247),ue=a.n(me),pe=a(16),he=a.n(pe),ge=Object(p.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"]),doctor:e.getIn(["docReducer","doctor"])}}))((function(e){var t=e.register,a=e.login,s=e.handleLogout,c=e.isLoggedIn,r=(e.handleDashboardDoctor,e.handleDashboardClient,e.doctor),i=(e.selectValue,Object(n.useState)({})),o=Object(Q.a)(i,2),d=o[0],u=o[1],p=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n="Bearer ".concat(sessionStorage.getItem("accessToken")),t.preventDefault(),(l=new FormData).append("user.first_name",""),l.append("user.last_name",""),l.append("user.phone",""),l.append("biography",""),l.append("email_exam_price",""),l.append("web_exam_price",""),l.append("web_exam_follow_price",""),l.append("image",""),l.append("status",a),"http://healthcarebackend.xyz/api/doctor/profile/",s=he.a.put("http://healthcarebackend.xyz/api/doctor/profile/",l,{headers:{"content-type":"multipart/form-data",Authorization:n}}),console.log("submiting"),e.next=18,s;case 18:c=e.sent,console.log(c,"profile changed"),c.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),h());case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){"true"===sessionStorage.getItem("is_doctor")&&h()}),[]);var h=function(){var e=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(sessionStorage.getItem("accessToken")),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(e){return u(e.data.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=null,f=null,E=sessionStorage.getItem("is_doctor");if("true"===E){if(r){var v="".concat(r.prefix," ").concat(r.user.first_name," ").concat(r.user.last_name);g=l.a.createElement("div",{className:"topProfile"},l.a.createElement("p",null,v),l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},"/media/default.jpg"===d.image?"Available"===d.status?l.a.createElement("img",{src:ie.a,alt:"online doctor"}):l.a.createElement("img",{src:ue.a,alt:"offline doctor"}):l.a.createElement("img",{style:{width:"50px",objectFit:"cover"},src:"http://healthcarebackend.xyz".concat(d.image),alt:"#"}))))}f=l.a.createElement("select",{name:"status",id:"status",onChange:p},l.a.createElement("option",{value:""},d.status),l.a.createElement("option",{value:"Available",hidden:"Available"===d.status&&!0},"Available"),l.a.createElement("option",{defaultValue:"Away",hidden:"Away"===d.status&&!0},"Away"),l.a.createElement("option",{value:"Offline",hidden:"Offline"===d.status&&!0},"Offline"))}else r&&(console.log(r),g=l.a.createElement("div",{className:"topProfile"},l.a.createElement("p",null,"false"===E&&r[0].first_name," ","false"===E&&r[0].last_name),l.a.createElement("div",{className:"mainProfile"},l.a.createElement("div",{className:"profile"},l.a.createElement("img",{src:de.a,alt:"online doctor"})))));return l.a.createElement("nav",{className:"nav"},!c&&l.a.createElement("ul",{className:"nav navbar-nav "},l.a.createElement("li",{className:"li-reg"},l.a.createElement(m.b,{to:"/register",onClick:t,className:"register"},"Sign Up")),l.a.createElement("li",{className:"li-log"},l.a.createElement(m.b,{to:"/login",onClick:a,className:"login"},"Join Now"))),c&&l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",{className:"userName"},g),l.a.createElement("li",{className:"selectStatus"},f),l.a.createElement("li",{style:{fontWeight:"500",marginLeft:"10px"}},l.a.createElement(m.b,{to:"/logout",onClick:s},"Log Out"))))})),fe=(a(310),a(38)),Ee=a(248),ve=a(67),be=function(){return l.a.createElement("footer",{className:"page-footer"},l.a.createElement("div",{className:"mainFooter"},l.a.createElement("ul",{className:"contact"},l.a.createElement("h3",null,"Contact"),l.a.createElement("li",null,l.a.createElement(Ee.a,{className:"mail"}),"Email: info@masspoint.rs"),l.a.createElement("li",null,l.a.createElement(ve.b,{className:"phone"})," +381 60 000 4602"),l.a.createElement("li",null,l.a.createElement(ve.a,{className:"mapPin"}),"Kralja Milana 4,",l.a.createElement("br",null)," 11000 Belgrade, Serbia")),l.a.createElement("ul",{className:"company"},l.a.createElement("h3",null,"Company"),l.a.createElement("li",null,l.a.createElement(m.b,{className:"aboutClass",to:"/"},l.a.createElement("span",null,"About Us"))),l.a.createElement("li",null,l.a.createElement(m.b,{className:"blockClass",to:"/"},l.a.createElement("span",null,"Privacy policy"))),l.a.createElement("li",null,l.a.createElement(m.b,{className:"careersClass",to:"/"},l.a.createElement("span",null,"Terms and conditions"))),l.a.createElement("li",null,l.a.createElement(m.b,{className:"faqClass",to:"/"},l.a.createElement("span",null,"FAQs")))),l.a.createElement("ul",{className:"social"},l.a.createElement("h3",null,"Social"),l.a.createElement("div",{className:"socialMedia"},l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.c,{className:"insta"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.d,{className:"linkedin"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.b,{className:"facebook"}))),l.a.createElement("div",null,l.a.createElement("a",{href:"/#"},l.a.createElement(fe.h,{className:"twitter"})))),l.a.createElement("p",null,"\xa9 Copyright 2020 Health Care"))))},ye=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDashboardDoctor=function(){n.props.history.push("/dashboard-doctor")},n.handleDashboardClient=function(){n.props.history.push("/dashboard-client")},n.handleClients=function(){n.props.history.push("/doctors-clients")},n.state={},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(G,{handleClients:this.handleClients,props:this.state}),l.a.createElement(be,null))}}]),a}(n.Component),Ne=a(66),xe=(a(311),a(95)),Se=a(92),Ce=a.n(Se),ke=a(49),we=a.n(ke),Oe=a(93),De=a.n(Oe),Pe=(a(148),a(149),a(124)),je=a.n(Pe),Ie=a(125),Me=a.n(Ie),Ae=a(126),_e=a.n(Ae),Fe=a(127),Ve=a.n(Fe),Te=a(107),Re=a.n(Te),Be=a(108),Ye=a.n(Be),ze=a(17),Le=a.n(ze),Ue=a(94),qe=a.n(Ue),We=function(e){var t=e.initiate,a=e.waitingRoom,n=e.VideoReq,s=e.handleClick,c=e.handleUpcoming,r=e.handlePast,i=e.handleAll,o=(e.handleClickLeft,e.handleClickRight,e.handleHam,e.hnlMyConsultations,e.props),d=e.handleDoctorSearch,m=e.searchByType,u=e.searchByName,p=e.ResetonSelectChange,h=e.handlePageChange;return o.state.paginatedExams.map((function(e){return o.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"mainClientDashboard"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("img",{src:Ve.a,className:"dashIcon",alt:"my consultation icon"}),l.a.createElement("h2",null,"Dashboard"))," ",l.a.createElement("div",{className:"videoApp",onClick:function(){return n()}},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:Me.a,className:"icon",alt:"make a video"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Make a"),l.a.createElement("h2",{className:"secondH2"}," VIDEO APPOINTMENT"))),l.a.createElement("div",{className:"emailReq",onClick:function(){return t()}},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:_e.a,alt:"request email",className:"icon"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Request"),l.a.createElement("h2",{className:"secondH2"}," EMAIL CONSULTATION"))),l.a.createElement("div",{className:"waitRoom",onClick:function(){return a()}},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:je.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("div",null,l.a.createElement("h2",null,"Enter"),l.a.createElement("h2",{className:"secondH2"}," WAITING ROOM")))),o.state.loading?l.a.createElement("img",{src:F.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===o.state.currentFilterClicked?"bold":"300"},onClick:c},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===o.state.currentFilterClicked?"bold":"300"},onClick:r},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===o.state.currentFilterClicked?"bold":"300"},onClick:i},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Doctor "),l.a.createElement("span",{className:"searchIcon",onClick:d},o.state.searchDoctor?l.a.createElement("img",{src:Ye.a,alt:"arrow"}):l.a.createElement("img",{src:Re.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:o.state.searchName,onChange:u,style:{display:!o.state.searchDoctor&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onChange:m,onClick:p,value:o.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:o.state.searchDoctor&&"0 0 30px 0"}},"Status"))),""===o.state.messageIfEmpty&&o.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return s(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.doctor_name?e.doctor_name:e.doctor),l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(xe.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==o.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},o.state.messageIfEmpty)),l.a.createElement("div",{className:"pagi"},l.a.createElement(qe.a,{activePage:o.state.page,itemsCountPerPage:5,totalItemsCount:0===o.state.searchedUpcomingOrPast.length?o.state.upcomingOrPast.length:o.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:h})))},He=function(e){return{type:"CURENTDOC",payload:e}},Je=(a(315),a(249)),Ge=a.n(Je),Qe=a(174),Ze=a.n(Qe),Ke=a(175),Xe=a.n(Ke),$e=a(250),et=a.n($e),tt=a(251),at=a.n(tt),nt=a(252),lt=a.n(nt),st=a(253),ct=a.n(st),rt=a(254),it=a.n(rt),ot=a(176),dt=a.n(ot),mt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleHam=function(){n.setState({hamburger:!n.state.hamburger})},n.state={hamburger:!0,current:sessionStorage.getItem("is_doctor")},n}return Object(i.a)(a,[{key:"render",value:function(){return"true"===this.state.current?l.a.createElement("div",{className:"hamburger"},l.a.createElement("div",{className:"hamNprofil"},l.a.createElement("div",{className:"ham",onClick:this.handleHam},l.a.createElement("img",{src:Ze.a,alt:"burger"})),l.a.createElement("div",{className:"rightNavIcons"},l.a.createElement("div",null,l.a.createElement(m.b,{to:"/dashboard-doctor",className:"linksPatients"},l.a.createElement("img",{src:Xe.a,className:"dashboardIcon",alt:"my consultation"}),this.state.hamburger&&l.a.createElement("p",null,"Dashboard"))),l.a.createElement("div",{className:"patientsNav"},l.a.createElement(m.b,{to:"/doctors-clients",className:"linksPatients"},l.a.createElement("img",{src:Ge.a,className:"iconNav",alt:"My patients"}),this.state.hamburger&&l.a.createElement("p",null,"My Patients"))),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/doctor/calendar",className:"links"},l.a.createElement("img",{src:lt.a,className:"calendarIcon",alt:"My patients"}),this.state.hamburger&&l.a.createElement("p",null,"Calendar"))),l.a.createElement("div",{className:"alertsNav"},l.a.createElement("img",{src:ct.a,className:"iconNav",alt:"My patients"}),this.state.hamburger&&l.a.createElement("p",null,"Alerts")),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/doctors-settings",className:"linksPatients"},l.a.createElement("img",{src:dt.a,className:"profileIcon",alt:"settings img"}),this.state.hamburger&&l.a.createElement("p",null,"Settings"))),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/doctor/profile/",className:"linksPatients"},l.a.createElement("img",{src:et.a,className:"profileIcon",alt:"doctors img"}),this.state.hamburger&&l.a.createElement("p",null,"Profile")))))):l.a.createElement("div",{className:"hamburger"},l.a.createElement("div",{className:"hamNprofil"},l.a.createElement("div",{className:"ham",onClick:this.handleHam},l.a.createElement("img",{src:Ze.a,alt:"burger"})),l.a.createElement("div",{className:"rightNavIcons"},l.a.createElement("div",null,l.a.createElement(m.b,{to:"/dashboard-client",className:"linksPatients"},l.a.createElement("img",{src:Xe.a,className:"dashboardIcon",alt:"my consultation"}),this.state.hamburger&&l.a.createElement("p",null,"Dashboard"))),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/client/Doctor-list/",className:"linksPatients"},l.a.createElement("img",{src:it.a,className:"doctorsIcon",alt:"Doctors"}),this.state.hamburger&&l.a.createElement("p",null,"Doctors"))),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/client/profile/",className:"linksPatients"},l.a.createElement("img",{src:at.a,className:"profileIcon",alt:"doctors img"}),this.state.hamburger&&l.a.createElement("p",null,"Profile"))),l.a.createElement("div",null,l.a.createElement(m.b,{to:"/client-settings",className:"linksPatients"},l.a.createElement("img",{src:dt.a,className:"profileIcon",alt:"settings img"}),this.state.hamburger&&l.a.createElement("p",null,"Settings"))))))}}]),a}(n.Component),ut=Object(p.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(mt),pt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.initiate=function(){n.props.history.push("/initiate")},n.waitingRoom=function(){n.props.history.push("/client/waiting-room")},n.VideoReq=function(){n.props.history.push("/client/video-request")},n.connect=function(e){var t=new WebSocket("ws://healthcarebackend.xyz/ws/dashboard/client/".concat(e,"/"));t.onopen=function(){console.log("connected to dashboard socket")},t.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);"Accepted"===t.status&&"queue"===t.exam_type&&n.props.popUp(),0!==n.state.exams.filter((function(e){return e.id===t.id})).length&&n.paginatedExams()},t.onclose=function(e){console.log("Socket is closed")},t.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket")}},n.handleClick=function(e,t){"mail"===t?n.props.history.push("/client/exam/detail/".concat(e)):"video"===t?n.props.history.push("/client/video/exam/detail/".concat(e)):"queue"===t&&n.props.history.push("/client/queue/exam/detail/".concat(e))},n.handleUpcoming=function(){var e=setInterval((function(){var t=n.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No upcoming consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.handlePast=function(){var e=setInterval((function(){var t=n.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status}));console.log(t,"past");var a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No past consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.handleAll=function(){var e=setInterval((function(){var t=n.state.exams,a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.paginatedExams=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),console.log("milosaaaaa"),he.a.get("http://healthcarebackend.xyz/api/exams/client/",{headers:{Authorization:t}}).then((function(e){if(console.log(e,"milossasSASASAD"),0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);n.setState({exams:t})}})).then((function(){n.WaitingRoomList()})).catch((function(e){console.log(e.response,"error"),n.setState({loading:!1})}));case 3:case"end":return e.stop()}}),e)}))),n.WaitingRoomList=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),console.log("alo"),console.log(n.state.client.id,"ajdi"),he.a.get("http://healthcarebackend.xyz/api/queue/".concat(n.state.client.id,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"alooooo"),404===e.data.status_code&&n.setState({exams:Object(Ne.a)(n.state.exams.concat(e.data.data.queue))})})).then((function(){console.log("yes"),n.handleAll(),n.paginate(n.state.page),n.getUnreadMessages(n.state.client.id)})).catch((function(e){console.log("mo"),console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.paginate=function(e){if(0===n.state.searchedUpcomingOrPast.length){var t=Math.ceil(n.state.upcomingOrPast.length/5),a=5*(e-1),l=n.state.upcomingOrPast.slice(a,a+5);n.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(n.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=n.state.searchedUpcomingOrPast.slice(c,c+5);n.setState({paginatedExams:r,loading:!1,maxPages:s})}},n.handleHam=function(){n.setState({hamburger:!n.state.hamburger})},n.hnlMyConsultations=function(){n.setState({hamburger:!1}),n.handleAll()},n.getUnreadMessages=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/client/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(n.state.client.user):null})).map((function(e){return e.exam.id}));n.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDoctorSearch=function(){n.setState({searchDoctor:!n.state.searchDoctor})},n.searchByName=function(e){if(""===e.target.value&&""===n.state.searchType)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByType(),clearInterval(t)}),10)}n.setState({searchName:e.target.value});var a=setInterval((function(){n.handlingSearchByName(),clearInterval(a)}),10)},n.handlingSearchByName=function(){var e=n.state.searchName.toLowerCase().split(" "),t=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):n.state.filterFiltered.filter((function(t){var a=(t.doctor_name?t.doctor_name:t.doctor).split(" ");if(e[1]){if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[2].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[2].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),a=0===t.length?"No Such Doctor":0!==t.length&&"No Such Doctor"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:t}),n.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:a}),n.paginate(1)},n.ResetonSelectChange=function(){n.setState({filterFiltered:[]});var e=setInterval((function(){n.handlingSearchByName(),clearInterval(e)}),10)},n.searchByType=function(e){if(console.log(e.target.value),""===e.target.value&&""===n.state.searchName)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByName(),clearInterval(t)}),10)}var a=e.target.value.toLowerCase();n.setState({searchType:a});var l=setInterval((function(){n.handlingSearchByType(),clearInterval(l)}),10)},n.handlingSearchByType=function(){var e=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})):n.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null}));console.log(e);var t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:e}),n.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),n.paginate(1)},n.handlePageChange=function(e){console.log(e,n.state.page),n.setState({page:e}),n.paginate(e)},n.state={exams:[],paginatedExams:[],upcomingOrPast:[],token:sessionStorage.getItem("accessToken"),dataFromServer:"",loading:!0,page:1,maxPages:"",hamburger:!1,client:"",messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchDoctor:!1,searchByTypeClick:!1,searchType:"",filterFiltered:[],searchedUpcomingOrPast:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t="Bearer ".concat(this.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(t){console.log(t,"milos"),e.connect(t.data.data.id),e.props.curentDoc([t.data.data.user]),e.setState({client:t.data.data})})).then((function(){e.paginatedExams()}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(We,{initiate:this.initiate,waitingRoom:this.waitingRoom,handleClick:this.handleClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,props:this,VideoReq:this.VideoReq,handleHam:this.handleHam,hnlMyConsultations:this.hnlMyConsultations,handleDoctorSearch:this.handleDoctorSearch,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,searchByType:this.searchByType,handlePageChange:this.handlePageChange}))}}]),a}(n.Component),ht=Object(p.b)(null,(function(e){return Object(u.bindActionCreators)({curentDoc:He,popUp:X},e)}))(pt),gt=(a(316),function(e){var t=e.hnlClick,a=e.handleClick,n=e.handleClickMail,s=e.handleUpcoming,c=e.handlePast,r=e.handleAll,i=e.props,o=(e.handleClickLeft,e.handleClickRight,e.hnlVideoClick),d=e.hnlWaitingClick,m=e.handleWaitingRoom,u=e.handleVideoPendingClick,p=(e.hnlMyConsultations,e.loading),h=e.handleClientSearch,g=(e.handleTypeSearch,e.searchByType),f=e.searchByName,E=e.ResetonSelectChange,v=e.handlePageChange,b=i.state.pending?i.state.pending.slice(0,4):null,y=i.state.videoPending?i.state.videoPending.slice(0,4):null,N=i.state.waitingRoom?i.state.waitingRoom.slice(0,4):null;return i.state.paginatedExams.map((function(e){return i.state.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"testic"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"dashboardIcon"},l.a.createElement("img",{src:Ve.a,className:"dashIcon",alt:"my consultation icon"}),l.a.createElement("h2",null,"Dashboard"))," ",l.a.createElement("div",{className:"divClock"},l.a.createElement("div",{className:"waitRoom1",onClick:d},l.a.createElement("span",{className:"clock"},l.a.createElement("img",{src:je.a,className:"icon",alt:"enter Waiting room"})),l.a.createElement("h2",null,"WAITING ROOM")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsClock"},l.a.createElement("p",null,i.state.waitingRoom.length," in waiting room")),l.a.createElement("div",{className:"pendingReq"},0!==N.length?N.map((function(e){return console.log(e),l.a.createElement("div",{key:e.id,onClick:function(){return m(e.id)}},e.client,","," ",Le()(e.created).format("MM/DD/YYYY"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divVideo"},l.a.createElement("div",{className:"videoApp1",onClick:o},l.a.createElement("span",{className:"video"},l.a.createElement("img",{src:Me.a,className:"icon",alt:"make a video"})),l.a.createElement("h2",null,"VIDEO REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsVideo"},l.a.createElement("p",null,i.state.videoPending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==y.length?y.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return u(e.id)}},e.client,","," ",Le()(e.appointed_date).format("MM/DD/YYYY hh:mm"))})):l.a.createElement("p",null,"No requests"))),l.a.createElement("div",{className:"divEmail"},l.a.createElement("div",{className:"emailReq1",onClick:t},l.a.createElement("span",{className:"email"},l.a.createElement("img",{src:_e.a,alt:"request email",className:"icon"})),l.a.createElement("h2",null,"EMAIL REQUESTS")),l.a.createElement("div",{style:{height:"2px",background:"#00aff0"}}),l.a.createElement("div",{className:"requestsEmail"},l.a.createElement("p",null,i.state.pending.length," new request to confirm")),l.a.createElement("div",{className:"pendingReq"},0!==b.length?b.map((function(e){return l.a.createElement("div",{key:e.id,onClick:function(){return n(e.id)}},e.client,","," ",Le()(e.created).add("hour",1).format("MM/DD/YYYY HH:mm"))})):l.a.createElement("p",null,"No requests")))),p?l.a.createElement("img",{src:F.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabel"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"My Consultations")),l.a.createElement("div",{className:"sort"},l.a.createElement("p",{className:"upcoming",style:{fontWeight:"upcoming"===i.state.currentFilterClicked?"bold":"300"},onClick:s},"Upcoming"),l.a.createElement("p",{className:"past",style:{fontWeight:"past"===i.state.currentFilterClicked?"bold":"300"},onClick:c},"Past"),l.a.createElement("p",{className:"all",style:{fontWeight:"all"===i.state.currentFilterClicked?"bold":"300"},onClick:r},"All"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("div",{className:"searchDiv"},l.a.createElement("span",{className:"examTypetext"},"Client "),l.a.createElement("span",{className:"searchIcon",onClick:h},i.state.searchClient?l.a.createElement("img",{src:Ye.a,alt:"arrow"}):l.a.createElement("img",{src:Re.a,alt:"arrow"}))),l.a.createElement("input",{type:"text",placeholder:"Search",value:i.state.searchName,onChange:f,style:{display:!i.state.searchClient&&"none"}}))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:i.state.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:E,onChange:g,value:i.state.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:i.state.searchClient&&"0 0 30px 0"}},"Status"))),""===i.state.messageIfEmpty&&i.state.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(xe.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==i.state.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},i.state.messageIfEmpty)),l.a.createElement("div",{className:"pagi"},l.a.createElement(qe.a,{activePage:i.state.page,itemsCountPerPage:5,totalItemsCount:0===i.state.searchedUpcomingOrPast.length?i.state.upcomingOrPast.length:i.state.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:v})))}),ft=function(e){return{type:"STATUSCHANGEWR",payload:e}},Et=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).pnd=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/req/",{headers:{Authorization:e}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,client:e.client,created:e.created,subject:e.subject,status:e.status}})).sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)}));n.setState({pending:t.filter((function(e){return"Pending"===e.status}))})})).catch((function(e){console.log(e)}))},n.handleUpcoming=function(){var e=setInterval((function(){var t=n.state.exams.filter((function(e){return"Appointed"===e.status||"Accepted"===e.status||"Pending"===e.status||"In the queue"===e.status})),a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No upcoming consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"upcoming",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.handlePast=function(){var e=setInterval((function(){var t=n.state.exams.filter((function(e){return"Declined"===e.status||"Finished"===e.status||"Canceled"===e.status})),a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No past consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"past",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.handleAll=function(){var e=setInterval((function(){var t=n.state.exams,a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.handleClick=function(e,t){"mail"===t?n.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?n.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&n.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},n.handleVideoPendingClick=function(e){n.props.history.push("/doctor/video/exam/detail/".concat(e))},n.paginatedExams=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:t}}).then((function(e){if(0!==e.data.data.mail.length||0!==e.data.data.video.length){var t=e.data.data.mail.concat(e.data.data.video);n.setState({exams:t});var a=e.data.data.video.filter((function(e){return"Pending"===e.status&&Le()(e.appointed_date).format("MM/DD/YYYY")>=Le()(new Date).format("MM/DD/YYYY")})),l=e.data.data.video.filter((function(e){return"Appointed"===e.status})).filter((function(e){return Le()(new Date).format("MM/DD/YYYYTHH:mm aa")>Le()(e.appointed_date).format("MM/DD/YYYYTHH:mm aa")&&Le()(new Date).format("MM/DD/YYYYTHH:mm aa")<Le()(e.appointed_date).add(30,"minutes").format("MM/DD/YYYYTHH:mm aa")?e:null}));n.setState({videoPending:a,loading:!1,numOfMessages:l.length})}})).then((function(){n.peopleInWaitingRoom(n.state.doctorCurent.id),n.handleAll(),n.paginate(n.state.page),n.getUnreadMessages(n.state.doctorCurent.id)})).catch((function(e){console.log(e.response,"error"),n.setState({loading:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.paginate=function(e){if(0===n.state.searchedUpcomingOrPast.length){var t=Math.ceil(n.state.upcomingOrPast.length/5),a=5*(e-1),l=n.state.upcomingOrPast.slice(a,a+5);n.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(n.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=n.state.searchedUpcomingOrPast.slice(c,c+5);n.setState({paginatedExams:r,loading:!1,maxPages:s})}},n.handleWaitingRoom=function(e){n.state.waitingRoom[0].id===e?n.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init")):ce.NotificationManager.error("Client is not next in line","Failed!",3e3)},n.hnlClick=function(){n.props.history.push("/doctors-email-list")},n.hnlVideoClick=function(){n.props.history.push("/doctors-video-list")},n.hnlWaitingClick=function(){n.props.history.push("/doctors-queue-list")},n.handleDoctorProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(e){var t=e.data.data;return n.connecSocket(t.id),n.props.curentDoc(t),n.setState({doctorCurent:t})}));case 2:case"end":return e.stop()}}),e)}))),n.peopleInWaitingRoom=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/today/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e),e.data.data.queue.forEach((function(e){e.created!==Le()(new Date).format("YYYY-MM-DD")&&"In the queue"===e.status&&n.changeStatusOfPastExams(e.id)}));var t=e.data.data.queue.filter((function(e){return"Accepted"===e.status||"In the queue"===e.status}));n.setState({waitingRoom:t,exams:Object(Ne.a)(n.state.exams.concat(e.data.data.queue))})})).then((function(){n.handleAll()})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeStatusOfPastExams=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/queue/detail/".concat(t,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({status:"Decline"})});case 3:return l=e.sent,e.next=6,l.json();case 6:return s=e.sent,console.log(s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleClickMail=function(e){n.props.history.push("/doctor/exam/detail/".concat(e))},n.hnlMyConsultations=function(){n.handleAll(),n.setState({hamburger:!1})},n.connecSocket=function(e){var t=new WebSocket("ws://healthcarebackend.xyz/ws/dashboard/doctor/".concat(e,"/"));t.onopen=function(){console.log("connected to port")},t.onmessage=function(e){"In the queue"!==JSON.parse(e.data).statu&&n.props.statusChangeWR(JSON.parse(e.data).id),n.messagesNumber()},t.onclose=function(){console.error("disconected")}},n.messagesNumber=function(){n.paginatedExams(),n.pnd()},n.getUnreadMessages=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(n.state.doctorCurent.prefix," ").concat(n.state.doctorCurent.doctor):e})).map((function(e){return e.exam.id}));n.setState({mail:t})})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleClientSearch=function(){n.setState({searchClient:!n.state.searchClient})},n.handleTypeSearch=function(){n.setState({searchByTypeClick:!n.state.searchByTypeClick})},n.searchByName=function(e){if(""===e.target.value&&""===n.state.searchType)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByType(),clearInterval(t)}),10)}n.setState({searchName:e.target.value});var a=setInterval((function(){n.handlingSearchByName(),clearInterval(a)}),10)},n.handlingSearchByName=function(){var e=n.state.searchName.toLowerCase().split(" "),t=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):n.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),a=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:t}),n.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:a}),n.paginate(1)},n.ResetonSelectChange=function(){n.setState({filterFiltered:[]});var e=setInterval((function(){n.handlingSearchByName(),clearInterval(e)}),10)},n.searchByType=function(e){if(""===e.target.value&&""===n.state.searchName)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByName(),clearInterval(t)}),10)}var a=e.target.value.toLowerCase();n.setState({searchType:a});var l=setInterval((function(){n.handlingSearchByType(),clearInterval(l)}),10)},n.handlingSearchByType=function(){var e=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})):n.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:e}),n.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),n.paginate(1)},n.handlePageChange=function(e){n.setState({page:e}),n.paginate(e)},n.state={exams:[],paginatedExams:[],upcomingOrPast:[],searchedUpcomingOrPast:[],filterFiltered:[],record:[],token:sessionStorage.getItem("accessToken"),pending:[],videoPending:[],waitingRoom:[],openWaitingRoom:!1,value:"",doctorCurent:"",page:1,maxPages:"",loading:!0,hamburger:!1,numOfMessages:0,messageIfEmpty:"",currentFilterClicked:"",mail:[],searchName:"",searchClient:!1,searchByTypeClick:!1,searchType:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleDoctorProfile(),this.paginatedExams(),this.pnd()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,{props:this}),l.a.createElement(gt,{handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,props:this,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handleUpcoming:this.handleUpcoming,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),a}(n.Component),vt=Object(p.b)(null,(function(e){return Object(u.bindActionCreators)({curentDoc:He,statusChangeWR:ft},e)}))(Et),bt=a(25),yt=(a(197),a(76)),Nt=a.n(yt),xt=a(50),St=a.n(xt),Ct=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=(e.handleReplyClick,e.onChangeHandler),r=e.handleSubmitSend,i=e.handleMessage,o=e.newMessage,d=e.props,m={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex",background:"white"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),t&&t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,u="Accepted"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:Nt.a,alt:"email"}),l.a.createElement("p",null,"Email details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(bt.a,{type:"text",styles:m,placeholder:t,className:"select-option",value:s,options:u,onChange:a}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"sideSub"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.appointed_date).format("MM/DD/YYY"))," ",Le()(e.appointed_date).format(" HH:mm"))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Message:")," ",e.message))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===d.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},d.correspondence.map((function(e,t){return l.a.createElement("div",{key:e.id,style:{width:e.sender===d.doctor&&"90%"},className:"Maintbody"},l.a.createElement("div",{style:{background:e.sender===d.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",e.sender),l.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:e.id,defaultValue:e.message,className:"message"}),e.attachments?l.a.createElement("div",{className:"attachments"},l.a.createElement("p",{className:"att"},"Attachments: ",e.attachments)):null),d.replyClicked&&d.lastInArray.created===e.created&&l.a.createElement("div",{className:"SendMainDiv"},l.a.createElement("div",{style:{background:"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",e.sender),l.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),l.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:i,value:d.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:r},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:c})))))})),d.replyClicked&&0===d.correspondence.length?l.a.createElement("div",{className:"SendMainDiv"},l.a.createElement("div",{className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",d.client)),l.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:i,value:d.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:r},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:c})))):null,"Accepted"===e.status&&l.a.createElement("button",{className:"newMessage",onClick:o},l.a.createElement("h1",null,"+")))))))})))},kt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleMessage=function(e){n.setState({messageValue:e.target.value})},n.detail=function(e){var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"current"),n.setState({exam:n.state.exam.concat(e.data.data),doctor:e.data.data.doctor})}))},n.handleSubmit=function(e){var t=n.props.match.params.id;n.doctorExam(t,e)},n.handleReplyClick=function(){n.setState({replyClicked:!n.state.replyClicked})},n.newMessage=function(){n.setState({replyClicked:!0})},n.handleStatus=function(e){n.setState({statusValue:e});var t=e.value;n.setState({selectedStatus:t}),n.handleSubmit(t)},n.onChangeHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.doctorExam=function(){var e=Object(se.a)(le.a.mark((function e(t,a){var l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),l="Bearer ".concat(n.state.token),e.next=4,fetch("http://healthcarebackend.xyz/api/doctor/exams/".concat(t,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify({status:a})});case 4:return s=e.sent,e.next=7,s.json();case 7:return(c=e.sent).success&&window.location.reload(),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleSubmitSend=function(e){n.state.messageValue?(n.sendMessage(),n.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},n.sendMessage=Object(se.a)(le.a.mark((function e(){var t,a,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/doctor/exams/".concat(n.state.id,"/message/"),{method:"POST",headers:{"Content-Type":"application/json;",Authorization:t},body:JSON.stringify({message:n.state.messageValue,attachment:n.state.selectedFile})});case 3:return a=e.sent,e.next=6,a.json();case 6:return(l=e.sent).success&&(n.correspondence(n.state.id),ce.NotificationManager.success("Message Sent","Successful!",2e3),n.socket.send({exam_id:n.state.id,message:n.state.messageValue})),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)}))),n.correspondence=function(e){var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}}));n.setState({correspondence:t,lastInArray:t[t.length-1]})})).catch((function(e){console.log(e.response)}))},n.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:null,doctor:""},n.socket=new WebSocket("ws://healthcarebackend.xyz/ws/message/".concat(n.props.match.params.id,"/")),n}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({id:t}),this.detail(t),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);console.log(n),n.exam_id===parseInt(t)&&e.correspondence(t)}}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ct,{exam:this.state.exam,handleStatus:this.handleStatus,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend,props:this.state,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage}))}}]),a}(n.Component),wt=a(29),Ot=(a(317),a(41)),Dt=a.n(Ot),Pt=a(42),jt=a.n(Pt),It=function(e){var t=e.userType,a=e.handleEmail,n=e.handleFirstName,s=e.handleLastName,c=e.handlePass,r=e.handleAddress,i=e.handleBirthDate,o=e.handleSpec,d=e.handleSubmit,m=e.handleGenderRadio,u=e.handleUserType,p=e.handleConfPass,h=e.handlePhoneNumber,g=e.handleOrganization,f=e.handleImage1,E=e.handleImage2,v=e.props,b={control:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"250px",marginLeft:"2px",background:"white",color:"#666666"})}};return l.a.createElement("div",{className:"mainRegisterDiv"},l.a.createElement("div",{className:"radioDiv"},l.a.createElement("h1",{className:"head"},"Are you a doctor or a client?"),l.a.createElement("div",{className:"checkingInputs"},l.a.createElement("div",{className:"doctorORClient"},l.a.createElement("input",{className:"doctorRadio",type:"checkbox",name:"userType",value:"doctor",id:"r1",checked:"doctor"===v.userType,onChange:function(){return u("doctor")},style:{}}),l.a.createElement("label",{htmlFor:"r1",className:"doctorLabel"},"Doctor"),l.a.createElement("input",{className:"clientRadio",type:"checkbox",name:"userType",id:"r2",value:"client",checked:"client"===v.userType,onChange:function(){return u("client")}}),l.a.createElement("label",{htmlFor:"r2",className:"clientLabel"},"Client")),l.a.createElement("div",{className:"gender"},l.a.createElement("div",{className:"maleGender"},l.a.createElement("input",{className:"maleRadio",type:"radio",name:"userType",value:"Male",id:"M",onChange:function(){return m("M")}}),l.a.createElement("label",{htmlFor:"M",className:"Male"},"Male")),l.a.createElement("div",{className:"femaleGender"},l.a.createElement("input",{className:"femaleRadio",type:"radio",name:"userType",id:"F",value:"Female",onChange:function(){return m("F")}}),l.a.createElement("label",{htmlFor:"F",className:"Female"},"Female"))))),l.a.createElement("form",{className:"register-form"},l.a.createElement("div",{className:"firstLastGender"},l.a.createElement("div",{className:"reg-name"},l.a.createElement("label",{htmlFor:"firstname"},"First Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"firstname",value:v.firstNameValue,onChange:n})),l.a.createElement("div",{className:"reg-surname"},l.a.createElement("label",{htmlFor:"lastname"},"Last Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",value:v.lastNameValue,onChange:s}))),l.a.createElement("div",{className:"regPass"},l.a.createElement("div",{className:"reg-email"},l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",value:v.emailValue,onChange:a})),"client"===t?l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{type:"text",className:"form-control",id:"address",value:v.addressValue,onChange:r})):l.a.createElement("div",{className:"address"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",value:v.phoneNumber,onChange:h}))),"client"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",id:"pwd",value:v.passwordValue,onChange:c}),l.a.createElement("img",{onClick:f,src:v.seePass1?Dt.a:jt.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"birthdate"},"Birth Date"),l.a.createElement("input",{type:"date",className:"form-control",id:"birthdate",value:v.birthDateValue,onChange:i}))),l.a.createElement("div",{className:"confirmAndPhone"},l.a.createElement("div",{className:"conf-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",value:v.confPasswordValue,onChange:p}),l.a.createElement("img",{onClick:E,src:v.seePass2?Dt.a:jt.a,alt:"img"}))),l.a.createElement("div",{className:"Phone"},l.a.createElement("label",{htmlFor:"phone"},"Phone number"),l.a.createElement("input",{type:"number",className:"form-control",id:"phone",value:v.phoneNumber,onChange:h})))),"doctor"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"clientsBinfo"},l.a.createElement("div",{className:"reg-pass"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass1?"text":"password",className:"form-control",id:"pwd",value:v.passwordValue,onChange:c}),l.a.createElement("img",{onClick:f,src:v.seePass1?Dt.a:jt.a,alt:"img"}))),l.a.createElement("div",{className:"date"},l.a.createElement("label",{htmlFor:"organization"},"Organization"),l.a.createElement("input",{type:"text",className:"form-control",id:"organization",value:v.organization,onChange:g}))),l.a.createElement("div",{className:"doctorsBinfo"},l.a.createElement("div",{className:"prefix"},l.a.createElement("label",{htmlFor:"pwd"},"Confirm Password"),l.a.createElement("div",null,l.a.createElement("input",{type:v.seePass2?"text":"password",className:"form-control",id:"pwd",value:v.confPasswordValue,onChange:p}),l.a.createElement("img",{onClick:E,src:v.seePass2?Dt.a:jt.a,alt:"img"}))),l.a.createElement("div",{className:"spec"},l.a.createElement("label",{htmlFor:"speciality"},"Speciality"),l.a.createElement(bt.a,{type:"text",id:"speciality",value:v.specValue,options:v.specOptions,styles:b,onChange:o})))),l.a.createElement("div",{className:"register-button"},l.a.createElement("button",{type:"submit",className:"btn",onClick:d},"Sign Up"))))},Mt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleImage1=function(){n.setState({seePass1:!n.state.seePass1})},n.handleImage2=function(){n.setState({seePass2:!n.state.seePass2})},n.handleUserType=function(e){n.setState({userType:e,seePass1:!1,seePass2:!1})},n.handleEmail=function(e){n.setState({emailValue:e.target.value})},n.handleFirstName=function(e){n.setState({firstNameValue:e.target.value})},n.handleLastName=function(e){n.setState({lastNameValue:e.target.value})},n.handlePass=function(e){n.setState({passwordValue:e.target.value})},n.handleConfPass=function(e){n.setState({confPasswordValue:e.target.value})},n.handleAddress=function(e){n.setState({addressValue:e.target.value})},n.handleBirthDate=function(e){n.setState({birthDateValue:e.target.value})},n.handleEmailPrice=function(e){n.setState({EmailPrice:e.target.value})},n.handleWebPrice=function(e){n.setState({WebPrice:e.target.value})},n.handlePhoneNumber=function(e){n.setState({phoneNumber:e.target.value})},n.handleOrganization=function(e){n.setState({organization:e.target.value})},n.handleSpec=function(e){n.setState({specValue:e});var t=e.value;n.setState({selectedSpecValue:t})},n.handleSubmit=function(e){e.preventDefault(),"client"===n.state.userType&&n.state.emailValue&&n.state.firstNameValue&&n.state.lastNameValue&&n.state.passwordValue&&n.state.selectedGenderValue&&n.state.phoneNumber&&n.state.addressValue&&n.state.birthDateValue&&n.state.confPasswordValue||"doctor"===n.state.userType&&n.state.emailValue&&n.state.firstNameValue&&n.state.lastNameValue&&n.state.passwordValue&&n.state.confPasswordValue&&n.state.organization&&n.state.phoneNumber&&n.state.selectedGenderValue&&n.state.selectedSpecValue?n.userRegister():ce.NotificationManager.error("All Fields Are Required","Failed!",2e3)},n.userRegister=Object(se.a)(le.a.mark((function e(){var t,a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("client"!==n.state.userType){e.next=17;break}if(n.state.confPasswordValue!==n.state.passwordValue){e.next=14;break}return e.next=4,fetch("http://healthcarebackend.xyz/api/auth/register/client/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.emailValue,first_name:n.state.firstNameValue,last_name:n.state.lastNameValue,phone:n.state.phoneNumber,password:n.state.passwordValue,confirm_password:n.state.confPasswordValue,client:{gender:n.state.selectedGenderValue,address:n.state.addressValue,birth_date:n.state.birthDateValue}})});case 4:return t=e.sent,n.props.history.push("/login"),e.next=8,t.json();case 8:return(a=e.sent).success&&ce.NotificationManager.success("An email for confirmation will be sent shortly","Successful!",4e3),!a.success&&ce.NotificationManager.error("".concat(a.message,', "Failed')),e.abrupt("return",a);case 14:ce.NotificationManager.error("Confirm password does not match","Failed!",4e3);case 15:e.next=27;break;case 17:if("doctor"!==n.state.userType){e.next=27;break}return e.next=20,fetch("http://healthcarebackend.xyz/api/auth/register/doctor/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.emailValue,first_name:n.state.firstNameValue,last_name:n.state.lastNameValue,phone:n.state.phoneNumber,password:n.state.passwordValue,confirm_password:n.state.confPasswordValue,doctor:{gender:n.state.selectedGenderValue,speciality:n.state.selectedSpecValue,organization:n.state.organization}})});case 20:return l=e.sent,e.next=23,l.json();case 23:return s=e.sent,console.log(s),s.success?(n.props.history.push("/login"),ce.NotificationManager.success("An email for confirmation will be sent shortly","Successful!",4e3)):ce.NotificationManager.error("".concat(s.error),"Faild!",4e3),e.abrupt("return",s);case 27:case"end":return e.stop()}}),e)}))),n.handleGenderRadio=function(e){n.setState({selectedGenderValue:e})},n.state={userType:"client",emailValue:"",firstNameValue:"",lastNameValue:"",passwordValue:"",confPasswordValue:"",addressValue:"",birthDateValue:"",EmailPrice:0,WebPrice:0,specOptions:[],specValue:"",selectedGenderValue:"",selectedSpecValue:"",phoneNumber:"",organization:"",seePass1:!1,seePass2:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({specOptions:a})}))}},{key:"render",value:function(){return console.log(this.state.emailValue,this.state.firstNameValue,this.state.lastNameValue,this.state.phoneNumber,this.state.passwordValue,this.state.selectedGenderValue,this.state.confPasswordValue,this.state.selectedSpecValue,this.state.organization),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(It,{props:this.state,userType:this.state.userType,handleEmail:this.handleEmail,handleFirstName:this.handleFirstName,handleLastName:this.handleLastName,handlePass:this.handlePass,handleAddress:this.handleAddress,handleBirthDate:this.handleBirthDate,handleEmailPrice:this.handleEmailPrice,handleWebPrice:this.handleWebPrice,handleSpec:this.handleSpec,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,handleUserType:this.handleUserType,handleConfPass:this.handleConfPass,handlePhoneNumber:this.handlePhoneNumber,handleOrganization:this.handleOrganization,handleImage1:this.handleImage1,handleImage2:this.handleImage2}))}}]),a}(n.Component),At=a(39),_t=(a(318),function(e){var t=e.emailValue,a=e.passwordValue,n=e.submitted,s=(e.handleEmail,e.handlePassword),c=e.handleSubmit,r=e.handleChange,i=e.handleChangeRmb,o=e.rememberMe,d=e.handleImage1,u=e.seePass1;return l.a.createElement("div",{className:"mainLogin"},l.a.createElement("img",{src:F.a,className:"logo",alt:"cLogo"}),l.a.createElement("h1",null,"Log in"),l.a.createElement("h5",null,"Not a Cdoctor user yet?"),l.a.createElement(m.b,{className:"createAccount",to:"/register"},"Create your account"),l.a.createElement("form",{className:"login-form"},l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"emailValue",value:t||"",onChange:r})),l.a.createElement("div",{className:"password"},l.a.createElement("label",{htmlFor:"pwd"},"Password"),l.a.createElement("div",null,l.a.createElement("input",{type:u?"text":"password",className:"form-control",id:"pwd",value:a,onChange:s}),l.a.createElement("img",{onClick:d,src:u?Dt.a:jt.a,alt:"img"}))),l.a.createElement("div",{className:"rememberForgot"},l.a.createElement("div",{onClick:i},l.a.createElement("input",{name:"rememberMe",checked:o,onChange:r,type:"checkbox"})," ",l.a.createElement("label",{htmlFor:"rememberMe"},"Remember me")),l.a.createElement(m.b,{className:"forget",to:"/forgot-password"},"Forgot Password?")),l.a.createElement("div",{className:"login-button"},l.a.createElement("button",{type:"submit",className:"btn",value:n,onClick:c},"Log In"))))}),Ft=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleImage1=function(){n.setState({seePass1:!n.state.seePass1})},n.handlePassword=function(e){n.setState({passwordValue:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.userLogin();var t=n.state,a=t.emailValue,l=t.rememberMe;localStorage.setItem("rememberMe",l),localStorage.setItem("emailValue",l?a:"")},n.userLogin=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.emailValue,password:n.state.passwordValue})});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(a),!1!==a.success||400!==a.status_code){e.next=11;break}ce.NotificationManager.error("".concat(a.error),"Failed!",3e3),e.next=24;break;case 11:if("Invalid credentials"!==a.detail&&"User does not exist"!==a.detail&&!a.error){e.next=15;break}ce.NotificationManager.error("".concat(a.error),"Failed!",2e3),e.next=24;break;case 15:if(""!==n.state.emailValue&&""!==n.state.passwordValue){e.next=19;break}ce.NotificationManager.error("All Fields Are Required","Failed!",2e3),e.next=24;break;case 19:return a.is_doctor?n.setState({is_doctor:!0}):n.setState({is_doctor:!1}),n.props.dispatch(N(a.data)),a.data.access_token&&(sessionStorage.setItem("accessToken",a.data.access_token),sessionStorage.setItem("expiresIn",a.data.expires_in),sessionStorage.setItem("is_doctor",n.state.is_doctor),localStorage.setItem("refreshToken",a.data.refresh_token),n.props.dispatch({type:"USERS_LOGIN_SUCCESS"})),n.redirectUser(),e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)}))),n.redirectUser=function(){n.props.isLoggedIn?n.state.is_doctor?n.props.history.push("/dashboard-doctor"):n.props.history.push("/dashboard-client"):n.props.history.push("/login")},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n.setState(Object(At.a)({},t.name,a))},n.handleChangeRmb=function(){n.setState({rememberMe:!n.state.rememberMe})},n.state={emailValue:"",passwordValue:"",submitted:!1,is_doctor:!1,invalid:!1,rememberMe:!1,seePass1:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e="true"===localStorage.getItem("rememberMe"),t=e?localStorage.getItem("emailValue"):localStorage.removeItem("emailValue");this.setState({emailValue:t,rememberMe:e})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(_t,{emailValue:this.state.emailValue,passwordValue:this.state.passwordValue,submitted:this.state.submitted,handleEmail:this.handleEmail,seePass1:this.state.seePass1,handlePassword:this.handlePassword,handleSubmit:this.handleSubmit,handleRememberClick:this.handleRememberClick,rememberMe:this.state.rememberMe,handleChange:this.handleChange,handleChangeRmb:this.handleChangeRmb,handleImage1:this.handleImage1}))}}]),a}(n.Component),Vt=Object(p.b)((function(e){return{user:e.getIn(["authReducer","user"]),isLoggedIn:e.getIn(["authReducer","isLoggedIn"])}}))(Ft),Tt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleLogout=function(e){n.handleSubmit(),sessionStorage.clear(),localStorage.removeItem("refreshToken"),n.props.dispatch({type:"USERS_LOGIN_FAILURE"}),n.redirectUser()},n.handleSubmit=Object(se.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(sessionStorage.getItem("accessToken")),e.next=3,fetch("http://healthcarebackend.xyz/api/doctor/profile/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({prefix:"",description:"",email_exam_price:null,web_exam_price:null,status:"Offline"})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n,"profile changed");case 8:case"end":return e.stop()}}),e)}))),n.redirectUser=function(){n.props.history.push("/login")},n.state={},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleLogout()}},{key:"componentDidUpdate",value:function(){this.handleLogout()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ae,null),l.a.createElement(ge,{handleLogout:this.handleLogout}))}}]),a}(n.Component),Rt=Object(p.b)((function(e){var t=e.get("user"),a=e.get("isLoggedIn");return console.log(a,t,"logOutttttttt"),{user:t,isLoggedIn:a}}))(Tt),Bt=(a(319),function(e){var t=e.specialities,a=e.subject,n=e.submitted,s=e.message,c=e.handleSpeciality,r=e.handleDoctor,i=e.handleSubject,o=e.handleSubmit,d=e.handleMessage,m=e.specDoctor,u=e.resetDoctorSelect,p=e.handleAttach,h=(e.isClicked,{control:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}});return l.a.createElement("div",{className:"exam"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newEmail"},l.a.createElement("img",{src:Nt.a,alt:"email img"}),l.a.createElement("p",null,"New Email")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(bt.a,{type:"text",styles:h,id:"speciality",placeholder:"Select Speciality...",options:t,onChange:c})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(bt.a,{styles:h,type:"text",id:"doctor",placeholder:"Select Doctor...",options:m,onChange:r,value:0===m.length?null:[u]})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:a,onChange:i}))),l.a.createElement("div",{className:"exam-mess"},l.a.createElement("div",{className:"messageTitle"},"Message:"),l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-message",placeholder:"Enter message",value:s,onChange:d}),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{value:n,className:"btn",onClick:o},"Submit"),l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:"attach"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:p}))))))});function Yt(e){return{type:"DOCTOR_OBJ",doctor:e}}var zt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleAttach=function(e){n.setState({attach:e.target.files[0]})},n.handleSpeciality=function(e){var t=n.state.doctors.filter((function(t){return t.spec===e.label}));n.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},n.handleDoctor=function(e){console.log(e),n.props.dispatch(Yt(e)),n.setState({doctor_id:e.iD,price:e.price,currency:e.currency}),n.setState({resetDoctorSelect:e})},n.handleSubject=function(e){n.setState({subject:e.target.value})},n.handleMessage=function(e){n.setState({message:e.target.value})},n.handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="Bearer ".concat(n.state.token),!(n.state.specialSP&&n.state.doctor_id&&n.state.subject&&n.state.message)){e.next=14;break}return e.next=5,fetch("http://healthcarebackend.xyz/api/client/initiate/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({speciality:n.state.specialSP,doctor:n.state.doctor_id,subject:n.state.subject,message:n.state.message})});case 5:return l=e.sent,e.next=8,l.json();case 8:return(s=e.sent).success&&n.toCheckout(),console.log(s,"data examform"),e.abrupt("return",s);case 14:ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toCheckout=Object(se.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.props.history.push({pathname:"/checkout",state:{price:n.state.price,currency:n.state.currency}}));case 1:case"end":return e.stop()}}),e)}))),n.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",message:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,attach:null,currency:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){console.log(t,"examform");var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(t){if(console.log(t,"examform2"),t.data.data){var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.email_exam_price,currency:e.email_currency}}));e.setState({doctors:a})}else ce.NotificationManager.warning("".concat(t.data.message),"Failed!",2e3)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Bt,{specialities:this.state.specialities,subject:this.state.subject,message:this.state.message,submitted:this.state.submitted,handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,specDoctor:this.state.specDoctor,resetDoctorSelect:this.state.resetDoctorSelect,handleAttach:this.handleAttach}))}}]),a}(n.Component),Lt=Object(p.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(zt),Ut=(a(320),a(255)),qt=a.n(Ut),Wt=null,Ht=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).createOrder=function(e,t){if(0!==n.props.amount)return t.order.create({purchase_units:[{description:NaN,amount:{currency_code:"EUR",value:n.props.amount}}]});ce.NotificationManager.error("Doctor did not set his price","Faild",3e3)},n.onApprove=function(e,t){0!==n.props.amount&&t.order.capture().then((function(t){var a={payerID:e.payerID,orderID:e.orderID};console.log("Payment Approved: ",a),n.setState({showButtons:!1,paid:!0})}))},n.state={showButtons:!1,loading:!0,paid:!1},window.React=l.a,window.ReactDOM=c.a,n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&(Wt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(Wt=window.paypal.Buttons.driver("react",{React:l.a,ReactDOM:c.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.showButtons,n=t.paid;return l.a.createElement("div",{className:"main",style:{margin:"40px auto 0 auto",width:"300px"}},a&&l.a.createElement("div",null,l.a.createElement(Wt,{style:{size:"small",color:"gold",shape:"pill",label:"checkout",layout:"horizontal",tagline:"true",commit:"true"},createOrder:function(t,a){return e.createOrder(t,a)},onApprove:function(t,a){return e.onApprove(t,a)}})),n&&l.a.createElement("div",{className:"main"},l.a.createElement("h2",{style:{color:"#4092c2"}},"Congrats!"," ",l.a.createElement("span",{role:"img","aria-label":"emoji"}," ","\ud83d\ude09"))))}}]),a}(l.a.Component),Jt=qt()("http://www.paypal.com/sdk/js?client-id=".concat("sb","&currency=EUR"))(Ht),Gt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(At.a)({},e.elementType,e.complete))},n.handleReady=function(){console.log("[ready]")},n.handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=parseInt(n.props.location.state.price,10),n.props.location.state.currency,!(n.props.stripe&&n.state.cardNumber&&n.state.cardExpiry&&n.state.cardCvc)){e.next=20;break}if("None"!==n.props.location.state.price&&"0"!==n.props.location.state.price){e.next=8;break}ce.NotificationManager.error("Doctor did not set his price","Faild",3e3),e.next=20;break;case 8:return e.next=10,n.props.stripe.createPaymentMethod("card",{});case 10:return l=e.sent,console.log(l.paymentMethod),e.next=14,fetch("http://healthcarebackend.xyz/api/charge/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method_id:l.paymentMethod.id,amount:a,currency:""})});case 14:return s=e.sent,e.next=17,s.json();case 17:c=e.sent,console.log(c),"Payment completed"===c.message?(n.setState({complete:!0}),ce.NotificationManager.success("Checkout Completed","Successful!",2e3)):(ce.NotificationManager.error("Faild to Checkout","Faild!",2e3),console.log("Stripe.js hasn't loaded yet."));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleServerResponse=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}e.next=23;break;case 3:if(!t.requires_action){e.next=22;break}return e.next=6,n.props.stripe.handleCardAction(t.payment_intent_client_secret);case 6:if(a=e.sent,l=a.error,s=a.paymentIntent,!l){e.next=12;break}e.next=20;break;case 12:return e.next=14,fetch("http://healthcarebackend.xyz/api/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_intent_id:s.id})});case 14:return c=e.sent,e.t0=n,e.next=18,c.json();case 18:e.t1=e.sent,e.t0.handleServerResponse.call(e.t0,e.t1);case 20:e.next=23;break;case 22:ce.NotificationManager.success("Completed","Successful!",2e3);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSelect=function(){n.setState({selectedCard:!0,selectedPal:!1})},n.handleSelectPal=function(){n.setState({selectedCard:!1,selectedPal:!0})},n.handleReady=function(e){n.setState({cardElement:e})},n.state={complete:!1,selectedCard:!0,selectedPal:!1,token:null,cardNumber:!1,cardCvc:!1,cardExpiry:!1},n}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props.location.state.price);var e=function(e,t){return{style:{base:{fontSize:e,color:"#666666",letterSpacing:"0.025em","::placeholder":{color:"#666666",fontSize:"12px",fontWeight:700},padding:t},invalid:{color:"#9e2146"}}}};return this.state.complete?this.props.location.state.location?l.a.createElement(ee.a,{to:this.props.location.state.location}):l.a.createElement(ee.a,{to:"/dashboard-client"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement("h1",{className:"mainTitle"},"Payment"),l.a.createElement("p",{className:"underTitle"},"Choose payment method below"),l.a.createElement("div",{className:"mainCardDiv"},l.a.createElement("div",{className:"payWay"},l.a.createElement("div",{className:"cardIcon",style:{background:this.state.selectedCard?"white":"transparent"},onClick:this.handleSelect},l.a.createElement(fe.a,{className:"icon"})),l.a.createElement("div",{className:"paypalIcon",style:{background:this.state.selectedPal?"white":"transparent"},onClick:this.handleSelectPal},l.a.createElement(fe.f,{className:"icon"}))),this.state.selectedCard?l.a.createElement("div",{className:"mainBillDiv"},l.a.createElement("div",{className:"billingInfo"},l.a.createElement("h1",null,"Billing Info"),l.a.createElement("label",{htmlFor:"fullName"},"Full Name",l.a.createElement("br",null),l.a.createElement("input",{id:"fullName",placeholder:"John Doe",type:"text"})),l.a.createElement("h1",{className:"totalPrice"},"Total:"," ",void 0===this.props.location.state?0:this.props.location.state.price?this.props.location.state.price:0," ",this.props.location.state.currency)),l.a.createElement("div",{className:"creditCardInfo"},l.a.createElement("h1",null,"Credit Card Info"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Card Number",l.a.createElement(b.CardNumberElement,Object.assign({className:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"Expiration Date",l.a.createElement(b.CardExpiryElement,Object.assign({className:"CardElement",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("label",null,"CVC",l.a.createElement(b.CardCVCElement,Object.assign({className:"CardElement cvc",onChange:this.handleChange,onReady:this.handleReady},e(this.props.fontSize)))),l.a.createElement("button",{className:"btn-checkout"}," Submit ")))):this.state.selectedPal?l.a.createElement("div",null,l.a.createElement(Jt,{amount:this.props.location.state?this.props.location.state.price:0})):null))}}]),a}(n.Component),Qt=Object(u.compose)(Object(p.b)((function(e){var t=e.getIn(["doctorReducer","doctor"]);return console.log(t),{doctor:t}})),b.injectStripe)(Gt),Zt=(a(323),a(96)),Kt=a.n(Zt),Xt=function(e){var t=e.doctor,a=e.handleSubmit,n=e.handleSelect,s=e.handleSelect2,c=e.handleSelect3,r=e.status,i=e.selectValue,o=e.props,d=e.handleChange,m=e.addAttach,u={control:function(){return{width:100,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:500,display:"flex",background:"white",marginLeft:"20px"}},option:function(){return{height:"30px",alignSelf:"center",padding:"5px 0 0 0","&:hover":{background:"#fa9551"}}},placeholder:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{display:t.isFocused||t.isSelected||t.selectProps.inputValue||t.value?"none":"block"})}};return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"mainDoctor"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("img",{src:Kt.a,alt:"video img"}),l.a.createElement("p",null,"Doctor profile")),l.a.createElement("div",{className:"doctor"},l.a.createElement("div",{className:"doctor-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{placeholder:e.user.first_name,id:"FirstName",onChange:d,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{placeholder:e.user.last_name,id:"LastName",onChange:d,type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:d,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"lastName"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,id:"Email",onChange:d,type:"text"}),l.a.createElement("label",null,"Working Hours:"),l.a.createElement("div",{className:"workHoursDiv"},l.a.createElement("input",{type:"time",id:"TimeStart",value:o.TimeStart,onChange:d}),l.a.createElement("p",null,"-"),l.a.createElement("input",{type:"time",id:"TimeEnd",value:o.TimeEnd,onChange:d})),l.a.createElement("button",{onClick:a,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"pricing"},l.a.createElement("p",null,"Pricing")),l.a.createElement("div",{className:"emailVisit"},l.a.createElement("label",{htmlFor:"EmailVisit"},"Email"),l.a.createElement("input",{type:"number",onChange:d,id:"EmailVisit",value:o.EmailVisit,placeholder:e.email_exam_price}),l.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.email_currency,onChange:n})),l.a.createElement("div",{className:"videoVisit"},l.a.createElement("label",{htmlFor:"videoVisit"},"Video"),l.a.createElement("input",{type:"number",onChange:d,id:"VideoVisit",value:o.VideoVisit,placeholder:e.web_exam_price}),l.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.web_currency,onChange:s})),l.a.createElement("div",{className:"videoFollowUp"},l.a.createElement("label",{htmlFor:"videoFollowUp"},"Video follow up"),l.a.createElement("input",{type:"number",onChange:d,id:"VideoFollowUp",value:o.VideoFollowUp,placeholder:e.web_exam_follow_price}),l.a.createElement(bt.a,{type:"text",className:"select-option",styles:u,value:i,options:r,placeholder:e.web_follow_up_currency,onChange:c})),l.a.createElement("div",{className:"allergies"},l.a.createElement("div",{className:"Nameing"},l.a.createElement("p",null," Biography"," "),l.a.createElement("p",{style:{marginRight:"47px"}},"Picture")),l.a.createElement("div",{className:"textAndProfile"},l.a.createElement("textarea",{type:"text",className:"address-input",onChange:d,id:"Biography",placeholder:e.biography}),l.a.createElement("div",{className:"profilePic"},l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},"/media/default.jpg"!==e.image?l.a.createElement("img",{className:"docImage",src:"http://healthcarebackend.xyz".concat(e.image),alt:"#"}):l.a.createElement("p",null,"+")),l.a.createElement("input",{type:"file",name:"myfile",onChange:m})))))))})))},$t=[{value:"RSD",label:"RSD"},{value:"EUR",label:"EUR"},{value:"USD",label:"USD"}],ea=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSelect=function(e){var t=e.value;n.setState({selectEmail:t})},n.handleSelect2=function(e){var t=e.value;n.setState({selectVideo:t})},n.handleSelect3=function(e){var t=e.value;n.setState({selectVideoFollow:t})},n.handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n.state.EmailVisit&&!n.state.selectEmail||n.state.VideoVisit&&!n.state.selectVideo||n.state.VideoFollowUp&&!n.state.selectVideoFollow)){e.next=5;break}ce.NotificationManager.error("Please enter currency","Failed!",2e3),e.next=29;break;case 5:return(a=new FormData).append("user.first_name",n.state.FirstName),a.append("user.last_name",n.state.LastName),a.append("user.phone",n.state.PhoneNum),a.append("biography",n.state.Biography),a.append("email_exam_price",n.state.EmailVisit),a.append("web_exam_price",n.state.VideoVisit),a.append("web_exam_follow_price",n.state.VideoFollowUp),a.append("image",n.state.attach),a.append("status",""),a.append("start_hour",n.state.TimeStart),a.append("end_hour",n.state.TimeEnd),a.append("email_currency",n.state.selectEmail),a.append("web_currency",n.state.selectVideo),a.append("web_follow_up_currency",n.state.selectVideoFollow),l="Bearer ".concat(n.state.token),"http://healthcarebackend.xyz/api/doctor/profile/",s=he.a.put("http://healthcarebackend.xyz/api/doctor/profile/",a,{headers:{"content-type":"multipart/form-data",Authorization:l}}),console.log("submiting"),e.next=26,s;case 26:c=e.sent,console.log(c,"profile changed"),c.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),n.handleDoctorProfile(),window.location.reload());case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDoctorProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(e){console.log(e,"doc profileee");var t=e.data.data.start_hour?e.data.data.start_hour.slice(0,-3):"",a=e.data.data.end_hour?e.data.data.end_hour.slice(0,-3):"";n.setState({doctor:[e.data.data],currentStatus:e.data.data.status,TimeStart:t,TimeEnd:a})}));case 2:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.addAttach=function(e){n.setState({attach:e.target.files[0]}),document.querySelector(".docImage").src=URL.createObjectURL(e.target.files[0])},n.state={doctor:[],selectEmail:"",selectVideo:"",selectVideoFollow:"",token:sessionStorage.getItem("accessToken"),FirstName:"",LastName:"",PhoneNum:"",TimeStart:"",TimeEnd:"",EmailVisit:"",VideoVisit:"",VideoFollowUp:"",Biography:"",attach:"",currentStatus:"",Email:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Xt,{status:$t,doctor:this.state.doctor,handleSubmit:this.handleSubmit,handleSelect:this.handleSelect,handleSelect2:this.handleSelect2,handleSelect3:this.handleSelect3,props:this.state,handleChange:this.handleChange,addAttach:this.addAttach}))}}]),a}(n.Component),ta=function(e){var t=e.doctor;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"doctor",style:{height:"180px",margin:"30px 0 0 0"}},l.a.createElement("div",{className:"rounded-pill"},l.a.createElement("div",null,l.a.createElement("p",null,"Doctor: ",e.doctor),l.a.createElement("p",null,"Speciality: ",e.speciality),l.a.createElement("p",null,"NPI: ",e.npi_number),l.a.createElement("p",null,"Prefix: ",e.prefix),l.a.createElement("p",null,"Description: ",e.description),l.a.createElement("p",null,"Price: ",e.email_exam_price))))})))},aa=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).hanldeDoctorsProfile=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/client/doc/".concat(n.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"doc profile"),n.setState({doctor:[e.data.data]})}))},n.state={doctor:[],token:sessionStorage.getItem("accessToken"),id:n.props.match.params.id},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.hanldeDoctorsProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ta,{doctor:this.state.doctor}))}}]),a}(n.Component),na=(a(324),a(82)),la=a.n(na),sa=function(e){var t=e.client,a=e.handleSubmit,n=e.handleGenderRadio,s=e.props,c=e.attachInput,r=e.handleChange;return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("img",{src:la.a,alt:"video img"}),l.a.createElement("p",null,"My profile")),l.a.createElement("div",{className:"client"},l.a.createElement("div",{className:"client-p"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{placeholder:e.user.first_name,id:"FirstName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{placeholder:e.user.last_name,id:"LastName",onChange:r,type:"text"}),l.a.createElement("label",{htmlFor:"address"},"Address"),l.a.createElement("input",{placeholder:e.address,onChange:r,id:"Address",type:"text"}),l.a.createElement("label",{htmlFor:"address"},"E-mail"),l.a.createElement("input",{placeholder:e.user.email,disabled:!0,onChange:r,id:"Email",type:"text"}),l.a.createElement("label",{htmlFor:"Phone"},"Phone number"),l.a.createElement("input",{placeholder:e.user.phone?e.user.phone:"11 22 33 44",onChange:r,id:"PhoneNum",type:"number"}),l.a.createElement("label",{htmlFor:"birth"},"Date of birth"),l.a.createElement("input",{placeholder:e.birth_date,onChange:r,id:"BirthDate",type:"text"}),l.a.createElement("button",{onClick:a,className:"saveChanges"},"Save"))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditions"},"Chronical conditions:"," ",l.a.createElement("textarea",{type:"text",className:"address-input",onChange:r,id:"ChronicalConditions"})),l.a.createElement("div",{className:"allergies"},"Allergies:"," ",l.a.createElement("textarea",{style:{height:e.image?"138px":"178px"},type:"text",className:"address-input",onChange:r,id:"Allergies"})),l.a.createElement("div",{className:"checkboxDiv"},l.a.createElement("div",{className:"check"},l.a.createElement("input",{type:"checkbox",name:"Male",id:"Male",checked:"M"===s.gender&&!0,onChange:function(){return n("M")}}),l.a.createElement("label",{className:"Male",value:"Male",htmlFor:"Male"},"Male"),l.a.createElement("input",{type:"checkbox",value:"Female",checked:"F"===s.gender&&!0,name:"Female",id:"Female",onChange:function(){return n("F")}}),l.a.createElement("label",{htmlFor:"Female"},"Female")),l.a.createElement("div",{className:"profilePic"},l.a.createElement("p",null,"Picture"),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},"/media/default.jpg"!==e.image?l.a.createElement("img",{className:"docImage",src:"http://healthcarebackend.xyz".concat(e.image),alt:"#"}):l.a.createElement("p",null,"+")),l.a.createElement("input",{type:"file",name:"myfile",onChange:c}))))))})))},ca=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("user.first_name",n.state.FirstName),a.append("user.last_name",n.state.LastName),a.append("gender",n.state.gender),a.append("address",n.state.Address),a.append("birth_date",n.state.BirthDate),a.append("image",n.state.attach),a.append("user.phone",n.state.PhoneNum),l="Bearer ".concat(n.state.token),"http://healthcarebackend.xyz/api/client/profile/",s=he.a.put("http://healthcarebackend.xyz/api/client/profile/",a,{headers:{"content-type":"multipart/form-data",Authorization:l}}),console.log("submiting"),e.next=15,s;case 15:c=e.sent,console.log(c,"profile changed"),c.data.success&&(ce.NotificationManager.success("Profile Updated!","Successful!",2e3),n.handleClientProfile());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleClientProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(e){return console.log(e.data.data,"profile"),n.setState({client:[e.data.data],gender:e.data.data.gender,BirthDate:e.data.data.birth_date})}));case 2:case"end":return e.stop()}}),e)}))),n.handleGenderRadio=function(e){n.setState({gender:e})},n.handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.attachInput=function(e){n.setState({attach:e.target.files[0]}),document.querySelector(".cliImage").src=URL.createObjectURL(e.target.files[0])},n.state={client:[],records:[],token:sessionStorage.getItem("accessToken"),gender:"",FirstName:"",LastName:"",Address:"",PhoneNum:"",BirthDate:"",ChronicalConditions:"",Allergies:"",attach:"",Email:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleClientProfile()}},{key:"render",value:function(){return console.log(this.state.records),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(sa,{client:this.state.client,handleSubmit:this.handleSubmit,handleGenderRadio:this.handleGenderRadio,props:this.state,handleChange:this.handleChange,attachInput:this.attachInput}))}}]),a}(n.Component),ra=a(54),ia=a.n(ra),oa=function(e){var t=e.exam,a=e.handleStatus,s=e.statusValue,c=e.props,r=e.declineReason,i=e.saveReason,o=e.handleJoinRoom,d=0!==c.exam.length?new Date(c.exam[0].appointed_date):null,m=(Le()(new Date).format("YYYY-MM-DD HH:mm")>Le()(d).subtract(15,"minutes").format("YYYY-MM-DD HH:mm")&&(Le()(new Date).format("YYYY-MM-DD HH:mm"),Le()(d).add(30,"minutes").format("YYYY-MM-DD HH:mm")),{control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,d="Appointed"!==e.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail_exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:ia.a,alt:"email"}),l.a.createElement("p",null,"Video details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Client:")," ",e.client),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",Le()(e.created).format("MM/DD/YYYY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status?"Appointed date:":"Appoint date")," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Canceled"===e.status||"Finished"===e.status||"Declined"===e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton",style:{display:"flex"}},l.a.createElement(bt.a,{type:"text",placeholder:t,styles:m,className:"select-option",value:s,options:d,onChange:a})),"Appointed"===e.status&&l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",onClick:o},"Join now"))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.appointed_date).format("MM/DD/YYYY"))," ",Le()(e.appointed_date).format(" HH:mm"))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes})),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"===e.status?"block":"Decline"!==c.selectedStatus?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:c.declineReason,onChange:r,id:"textarea"}),l.a.createElement("button",{style:{display:"Declined"===e.status&&"none"},onClick:i},"Save"))))))})))},da=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).detail=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(n.state.token),e.next=3,he.a.get("http://healthcarebackend.xyz/api/web/doctor/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e.data.data),n.setState({exam:n.state.exam.concat(e.data.data)})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(e){"Decline"!==e&&n.doctorExam(e)},n.handleStatus=function(e){n.setState({statusValue:e});var t=e.value;console.log(t),n.setState({selectedStatus:t}),n.handleSubmit(t)},n.doctorExam=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(n.state.token),console.log(t),e.next=4,fetch("http://healthcarebackend.xyz/api/web/doctor/".concat(n.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({status:t,decline_notes:n.state.declineReason})});case 4:return l=e.sent,e.next=7,l.json();case 7:return s=e.sent,console.log(s),!0===s.success&&("Declined"!==s.data.status?n.props.history.push("/dashboard-doctor"):(ce.NotificationManager.success("Decline reason sent","Successful!",2e3),window.location.reload())),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.declineReason=function(e){n.setState({declineReason:e.target.value})},n.saveReason=function(){n.doctorExam(n.state.selectedStatus)},n.handleJoinRoom=function(){window.open("/room/".concat(n.props.match.params.id))},n.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:"",value:"",declineReason:""},n}return Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.setState({id:e}),this.detail(e)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(oa,{exam:this.state.exam,handleStatus:this.handleStatus,submitValue:this.state.submitValue,handleSubmit:this.handleSubmit,props:this.state,declineReason:this.declineReason,saveReason:this.saveReason,handleJoinRoom:this.handleJoinRoom}))}}]),a}(n.Component),ma=(a(325),a(131)),ua=a.n(ma),pa=a(132),ha=a.n(pa),ga=a(133),fa=a.n(ga),Ea=a(134),va=a.n(Ea),ba=a(135),ya=a.n(ba),Na=a(136),xa=a.n(Na),Sa=function(e){e.handleConnect;var t=e.handleVideoStart,a=e.props,s=e.handleChange,c=e.handleStatus,r=e.enableTipeing,i=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.cutVideo),o=e.cutMic,d=e.showExtendScreenIcon,m=e.extendScr,u={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,a.exam.map((function(e){var p=!a.connected||"Accepted"!==e.exam.status,h="In the queue"===e.exam.status?"Pending":a.clientStatus,g="Accepted"!==e.exam.status?[{value:"Accept",label:"Accept"},{value:"Decline",label:"Decline"}]:[{value:"Finish",label:"Finish"}];return l.a.createElement(n.Fragment,{key:e.exam.id},l.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"none":"block"}},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("img",{src:we.a,alt:"email"}),l.a.createElement("p",null,"Waiting room details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("div",{className:"detailInfo"},l.a.createElement("p",{className:"ClientP"},l.a.createElement("span",null,"Client:")," ",e.exam.client),l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.exam.status||"Finished"===e.exam.status?"Appointed: ":"Appoint: "),Le()(e.exam.appointed_date).format("MM/DD/YYYY HH:mm")),l.a.createElement("p",{className:"TypeP"},l.a.createElement("span",null,"Type:")," ",e.exam.exam_type),"Canceled"===e.exam.status||"Finished"===e.exam.status||"Declined"===e.exam.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.exam.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(bt.a,{type:"text",placeholder:h,className:"select-option",value:a.statusValue,styles:u,options:g,onChange:c,isDisabled:"Accepted"!==e.exam.status&&"In the queue"!==e.exam.status}))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.exam.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.exam.created).format("MM/DD/YYYY"))," ")),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Message:")," ",e.exam.notes)))),l.a.createElement("div",{className:"message-btn"},"Accepted"!==e.exam.status||a.connectedall||a.connected?"Canceled"===e.exam.status&&l.a.createElement("h3",{style:{color:"#666666"}},"Reject-Connection"):l.a.createElement("h3",{style:{color:"#666666"}},"Connecting..."),l.a.createElement("button",{id:"DoctorStartVideo",type:"submit",className:"btn",onClick:t,disabled:p},"Start Video"))),l.a.createElement("div",{className:"detailExam",style:{display:a.startVideo?"block":"none",padding:0}},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("img",{src:ia.a,alt:"email"}),l.a.createElement("p",null,"Video call")," "),l.a.createElement("div",{className:"detail2"},l.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},l.a.createElement("p",{className:"ClientP"},l.a.createElement("span",null,"Client:")," ",e.exam.client),l.a.createElement("div",{className:"MainIconsDiv"},l.a.createElement("img",{src:ua.a,className:"iconMic",alt:"img",style:{display:a.audio?"block":"none"},onClick:o}),l.a.createElement("img",{src:ha.a,className:"iconMicUnmute",alt:"img",style:{display:a.audio?"none":"block"},onClick:o}),l.a.createElement("img",{src:fa.a,alt:"img",className:"iconPhone"}),l.a.createElement("img",{src:va.a,className:"iconVideo",alt:"img",style:{display:a.video?"block":"none"},onClick:i}),l.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:a.video?"none":"block"},onClick:i})),l.a.createElement("div",{className:"MainDivForChat"},l.a.createElement("p",null,"Chat"),l.a.createElement("form",{autoComplete:"off",action:"",id:"form"},l.a.createElement("pre",{id:"messages"}),l.a.createElement("div",{className:"inputMessage"},l.a.createElement("input",{type:"text",placeholder:"Type a message",id:"yourMessage",value:a.value,onChange:s,onMouseDown:r}),l.a.createElement("button",{style:{display:"hidden"},id:"send"},"Send"))))),l.a.createElement("div",{id:"videoChat",onMouseEnter:d,onMouseLeave:d},l.a.createElement("img",{src:xa.a,onClick:m,style:{display:!a.showExtendScreen&&"none"},className:"extendScreen",alt:"screen icon"})))))})))},Ca=new WebSocket("ws://healthcarebackend.xyz/ws/video/"),ka=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var l;return Object(r.a)(this,n),(l=t.call(this,e)).detail=function(e){var t="Bearer ".concat(l.state.token);he.a.get("http://healthcarebackend.xyz/api/queue/detail/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e),l.setState({exam:[e.data.data],clientStatus:e.data.data.exam.status})})).catch((function(e){e.response&&"Bad request"===e.response.data.message?l.props.history.push("/dashboard-doctor"):console.log(e.response)}))},l.handleConnect=function(){l.testwebsocket(),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=document.createElement("video");t.id="myVid",document.getElementById("detailInfo2").appendChild(t),t.srcObject=e,t.play()}))},l.handleVideoStart=function(e){e.preventDefault(),l.setState({startVideo:!0}),Ca.send(JSON.stringify("doctor is started video"))},l.testwebsocket=function(){return navigator.webkitGetUserMedia({video:l.state.video,audio:l.state.audio},(function(e){var t=new(a(91))({initiator:"#init"===window.location.hash,trickle:!1,stream:e});t.on("signal",(function(e){var t=JSON.stringify(e);l.setState({doctorsVideoId:t}),Ca.send(l.state.doctorsVideoId),Ca.send(null)})),document.getElementById("DoctorStartVideo")&&document.getElementById("DoctorStartVideo").addEventListener("click",(function(){null!==l.state.clientsVideoId&&(t.signal(l.state.clientsVideoId),document.getElementById("myVid").style.cssText="position: absolute; left: 10px; bottom: 9px; height: 170px; width: 320px;")})),document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e)})),Ca.onclose=function(){console.error("disconnected"),l.props.history.push("/dashboard-doctor"),window.location.reload()},Ca.onerror=function(e){console.error("failed to connect",e)},document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#yourMessage").value;Ca.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666  ;margin: 5px auto 5px 0;display: table; white-space: initial ; background: #e6e6e6; border-radius: 10px'><span>Doctor:</span>".concat(t,"</p>"),l.setState({value:""});var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 5px 0 5px auto; background: #e6e6e6 ;display: table; white-space: initial; border-radius: 10px'><span>Client:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}));var n=e.getAudioTracks()[0],s=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){n.enabled=!n.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){s.enabled=!s.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){l.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Ca.send(JSON.stringify("Cancel Video From Doctor")),window.location.reload(),l.handleDivClose()}))}),(function(e){console.error(e)}))},l.handleChange=function(e){l.setState({value:e.target.value})},l.enableTipeing=function(e){e.stopPropagation()},l.iconsMouseOver=function(){l.setState({hover:!0})},l.iconsMouseOut=function(){l.setState({hover:!1})},l.handleDragDrop=function(e){l.setState({x:e.x,y:e.y})},l.handleResize=function(e,t){var a=document.getElementById("videoo");l.setState(Object(wt.a)({width:a.style.width,height:a.style.height},e))},l.showAndHideChat=function(){l.setState({showChat:!l.state.showChat})},l.handleDivSize=function(){l.setState({width:window.screen.width,height:window.screen.height,x:0,y:0}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),l.setState({width:700,height:500})):document.documentElement.requestFullscreen()},l.handleDivClose=function(){l.setState({startVideo:!1})},l.cutMic=function(){l.setState({audio:!l.state.audio})},l.cutVideo=function(){l.setState({video:!l.state.video})},l.statusSelecting=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(l.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/queue/detail/".concat(l.props.match.params.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({status:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,console.log(s),!0===s.success&&(l.detail(l.props.match.params.id),"Accepted"===s.data.exam.status&&l.state.connectedall&&l.handleConnect(),"Declined"===s.data.exam.status&&l.props.history.push("/dashboard-doctor"),Ca.send(JSON.stringify({id:l.props.match.params.id,status:s.data.exam.status}))),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.connectedAll=function(){l.setState({connectedall:!0}),"Accepted"===l.state.clientStatus&&l.handleConnect()},l.handleStatus=function(e){l.setState({statusValue:e});var t=e.value,a=e.label;console.log(t,a),l.setState({selectedStatus:t}),l.statusSelecting(t)},l.showExtendScreenIcon=function(){l.setState({showExtendScreen:!l.state.showExtendScreen})},l.extendScr=function(){l.setState({extended:!l.state.extended})},l.state={exam:[],token:sessionStorage.getItem("accessToken"),connected:!1,doctorsVideoId:"",clientsVideoId:"null",startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,connectedall:!1,selectedStatus:"",connection:"",clientStatus:"",showExtendScreen:!1,extended:!1},l}return Object(i.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.statusChanged===parseInt(this.props.match.params.id)&&this.detail(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){Ca.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=setInterval((function(){e.state.connection||"Accepted"!==e.state.clientStatus||window.location.reload(),clearInterval(a)}),15e3);this.detail(t),Ca.onopen=function(){console.log("connected"),e.setState({connection:Ca}),Ca.send(JSON.stringify({id:t,connectedDoctor:!0}))},Ca.onmessage=function(a){var n=JSON.parse(a.data);console.log(n,"testonja"),console.log("received doctor",a.data),null!==JSON.parse(n.text)&&JSON.parse(n.text).startingVideo?e.setState({connected:!0}):JSON.parse(n.text)&&(JSON.parse(n.text).id===parseInt(t)&&JSON.parse(n.text).connectedClient?e.connectedAll():"Cancel Video From Client"===JSON.parse(n.text)&&(e.handleDivClose(),window.location.reload())),e.setState({clientsVideoId:n.text})}}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(Sa,{handleStatus:this.handleStatus,handleConnect:this.handleConnect,handleVideoStart:this.handleVideoStart,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,props:this.state,showExtendScreenIcon:this.showExtendScreenIcon,extendScr:this.extendScr}))}}]),n}(n.Component),wa=Object(p.b)((function(e){return{statusChanged:e.getIn(["doctorStatusWRReducer","statusChanged"])}}))(ka),Oa=(a(349),function(e){var t=e.props,a=e.record,n=e.handleClick,s=(e.handleUpcoming,e.handlePast,e.handleAll,e.handleClickLeft,e.handleClickRight,e.loading),c=(e.handleClientSearch,e.searchByType),r=(e.searchByName,e.ResetonSelectChange),i=e.handlePageChange;return l.a.createElement(l.a.Fragment,null,a&&a.map((function(e){console.log(e);var t=e.client.split(" ");return l.a.createElement("div",{key:e.id,className:"mainClien"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("img",{src:la.a,alt:"video img"}),l.a.createElement("p",null,"Client details ")),l.a.createElement("div",{className:"client"},l.a.createElement("div",{className:"client-p"},l.a.createElement("p",null,l.a.createElement("span",null,"First Name:")," ",t[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name:")," ",t[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Address:")," ",e.address),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail:")," ",e.email),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number:")," ",e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"Date of birth:")," ",e.birth_date),l.a.createElement("p",null,l.a.createElement("span",null,"M"===e.gender?"Male":"Female")))),l.a.createElement("div",{className:"form"},l.a.createElement("div",{className:"conditions"},"Chronical conditions:"," ",l.a.createElement("p",null,e.medical_conditions)),l.a.createElement("div",{className:"allergies"},"Allergies:"," ",l.a.createElement("p",null,e.allergies))))})),s?l.a.createElement("img",{src:F.a,className:"loading",alt:"loading...",style:{width:"150px"}}):l.a.createElement("div",{className:"mainTabelRecord"},l.a.createElement("div",{className:"mainConsultation"},l.a.createElement("div",{className:"icon_left"},l.a.createElement("p",null,"Consultations"))),l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-type",style:{padding:t.searchClient&&"0 0 30px 0"}},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("select",{type:"text",placeholder:"",onClick:r,onChange:c,value:t.searchType},l.a.createElement("option",{value:""},"Type"),l.a.createElement("option",{value:"mail"},"Email"),l.a.createElement("option",{value:"video"},"Video"),l.a.createElement("option",{value:"queue"},"Waiting room")))),l.a.createElement("th",{className:"client-date"},"Date"),l.a.createElement("th",{className:"client-status",style:{padding:t.searchClient&&"0 0 30px 0"}},"Status"))),""===t.messageIfEmpty&&t.paginatedExams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return n(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-subject"},e.subject),l.a.createElement("td",{className:"client-subject"},e.exam_type),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null),l.a.createElement("td",{className:"client-status"},"Pending"===e.status||"In the queue"===e.status?l.a.createElement("img",{src:we.a,alt:"clockIcon",className:"pendi"}):"Declined"===e.status||"Canceled"===e.status?l.a.createElement("img",{src:De.a,alt:"declined",className:"declined"}):"Finished"===e.status?l.a.createElement(xe.a,{className:"finished"}):l.a.createElement("img",{src:Ce.a,alt:"ckeck",className:"check"}),l.a.createElement("h5",{className:"status"},e.status))))}))),""!==t.messageIfEmpty&&l.a.createElement("div",{className:"NoResultDiv"},t.messageIfEmpty)),l.a.createElement("div",{className:"pagi"},l.a.createElement(qe.a,{activePage:t.page,itemsCountPerPage:5,totalItemsCount:0===t.searchedUpcomingOrPast.length?t.exams.length:t.searchedUpcomingOrPast.length,pageRangeDisplayed:10,onChange:i})))}),Da=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).record=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/record/".concat(n.state.id,"/"),{headers:{Authorization:e}}).then((function(e){return console.log(e,"nzm ni ja sta"),n.handleAll(),n.setState({record:[e.data.data]})}))},n.clientsExams=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/client/".concat(n.state.id,"/list/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"podaciiii");var t=e.data.data.mail.concat(e.data.data.queue,e.data.data.video);return n.setState({exams:t})})).then((function(){n.handleAll()}))},n.handleAll=function(){var e=setInterval((function(){var t=n.state.exams,a=t.sort((function(e,t){return Date.parse(t.created)-Date.parse(e.created)})),l=0===t.length?"No consultations":"";n.setState({upcomingOrPast:a,page:1,messageIfEmpty:l,currentFilterClicked:"all",searchedUpcomingOrPast:[],filterFiltered:[],searchType:"",searchName:""}),n.paginate(1),clearInterval(e)}),10)},n.searchByName=function(e){if(""===e.target.value&&""===n.state.searchType)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByType(),clearInterval(t)}),10)}n.setState({searchName:e.target.value});var a=setInterval((function(){n.handlingSearchByName(),clearInterval(a)}),10)},n.handlingSearchByName=function(){var e=n.state.searchName.toLowerCase().split(" "),t=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})):n.state.filterFiltered.filter((function(t){var a=t.client.split(" ");if(e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null})),a=0===t.length?"No Such Client":0!==t.length&&"No Such Client"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:t}),n.setState({searchedUpcomingOrPast:t,page:1,messageIfEmpty:a}),n.paginate(1)},n.paginate=function(e){if(0===n.state.searchedUpcomingOrPast.length){var t=Math.ceil(n.state.upcomingOrPast.length/5),a=5*(e-1),l=n.state.upcomingOrPast.slice(a,a+5);n.setState({paginatedExams:l,loading:!1,maxPages:t})}else{var s=Math.ceil(n.state.searchedUpcomingOrPast.length/5),c=5*(e-1),r=n.state.searchedUpcomingOrPast.slice(c,c+5);n.setState({paginatedExams:r,loading:!1,maxPages:s})}},n.searchByType=function(e){if(""===e.target.value&&""===n.state.searchName)n.setState({filterFiltered:[]});else if(""===e.target.value&&""!==n.state.searchName){n.setState({filterFiltered:[]});var t=setInterval((function(){n.handlingSearchByName(),clearInterval(t)}),10)}var a=e.target.value.toLowerCase();n.setState({searchType:a});var l=setInterval((function(){n.handlingSearchByType(),clearInterval(l)}),10)},n.handlingSearchByType=function(){var e=0===n.state.filterFiltered.length?n.state.upcomingOrPast.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})):n.state.filterFiltered.filter((function(e){return e.exam_type.toLowerCase().indexOf(n.state.searchType)===n.state.searchType.indexOf(n.state.searchType)?e:null})),t=0===e.length?"No Such Type":0!==e.length&&"No Such Type"!==n.state.messageIfEmpty?n.state.messageIfEmpty:"";0===n.state.filterFiltered.length&&n.setState({filterFiltered:e}),n.setState({searchedUpcomingOrPast:e,page:1,messageIfEmpty:t}),n.paginate(1)},n.handleClickLeft=function(){if(1!==n.state.page){n.setState({page:n.state.page-1});var e=setInterval((function(){n.paginate(n.state.page),clearInterval(e)}),10)}},n.handleClickRight=function(){if(n.state.page!==n.state.maxPages){n.setState({page:n.state.page+1});var e=setInterval((function(){n.paginate(n.state.page),clearInterval(e)}),10)}},n.handleClick=function(e,t){"mail"===t?n.props.history.push("/doctor/exam/detail/".concat(e)):"video"===t?n.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init")):"queue"===t&&n.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},n.ResetonSelectChange=function(){n.setState({filterFiltered:[]});var e=setInterval((function(){n.handlingSearchByName(),clearInterval(e)}),10)},n.handlePageChange=function(e){n.setState({page:e}),n.paginate(e)},n.state={exams:[],record:null,token:sessionStorage.getItem("accessToken"),id:n.props.match.params.id,currentFilterClicked:"",searchName:"",searchType:"",messageIfEmpty:"",paginatedExams:[],searchedUpcomingOrPast:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.record(),this.clientsExams()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Oa,{record:this.state.record,props:this.state,handleClick:this.handleClick,handleClickMail:this.handleClickMail,handleClient:this.handleClient,hnlClick:this.hnlClick,hnlClick2:this.hnlClick2,hnlClick3:this.hnlClick3,hnlWaitingClick:this.hnlWaitingClick,handleKeyPress:this.handleKeyPress,handleChange:this.handleChange,handleClickLeft:this.handleClickLeft,handleClickRight:this.handleClickRight,loading:this.state.loading,hnlVideoClick:this.hnlVideoClick,handleWaitingRoom:this.handleWaitingRoom,handleVideoPendingClick:this.handleVideoPendingClick,handlePast:this.handlePast,handleAll:this.handleAll,hnlMyConsultations:this.hnlMyConsultations,handleClientSearch:this.handleClientSearch,handleTypeSearch:this.handleTypeSearch,searchByType:this.searchByType,searchByName:this.searchByName,ResetonSelectChange:this.ResetonSelectChange,handlePageChange:this.handlePageChange}))}}]),a}(n.Component),Pa=(a(350),a(256)),ja=a.n(Pa),Ia=(a(351),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,s=e.handleSubmit,c=e.handleMessage,r=e.handleDateChange,i=e.props,o=e.handleAttach,d=i.excludeTime.map((function(e){return new Date(e.appointed_date)})),m={control:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}};return l.a.createElement("div",{className:"exam"},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("img",{src:ia.a,alt:"video img"}),l.a.createElement("p",null,"Video Appointment")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(bt.a,{type:"text",id:"speciality",styles:m,placeholder:"Select Speciality...",options:i.specialities,onChange:t})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(bt.a,{type:"text",id:"doctor",styles:m,placeholder:"Select Doctor...",options:i.specDoctor,onChange:a,value:0===i.specDoctor.length?null:[i.resetDoctorSelect]})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:i.subject,onChange:n}))),l.a.createElement("div",{className:"DatePicker"},l.a.createElement("div",{className:"exam-mess"},l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-notes",placeholder:"Enter notes",value:i.notes,onChange:c})),l.a.createElement("div",{className:"MainDate"},l.a.createElement("div",{className:"disabledDiv",style:{zIndex:i.specialSP&&i.doctor_id?0:1}}),l.a.createElement(ja.a,{excludeTimes:d,inline:!0,selected:i.startDate,onChange:r,showTimeSelect:!0,excludeOutOfBoundsTimes:!0,minDate:new Date,timeFormat:"HH:mm aa",timeIntervals:30,timeCaption:"time",minTime:Le()(new Date).set("hour",8).set("minute",0)._d,maxTime:Le()(new Date).set("hour",15).set("minute",30)._d})),l.a.createElement("div",{className:"divAndAttach"},l.a.createElement("button",{value:i.submitted,className:"send",onClick:s},"Send"),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btnn"},l.a.createElement("img",{src:St.a,alt:"attach"})),l.a.createElement("input",{type:"file",name:"myfile",onChange:o})))))}),Ma=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDateChange=function(e){var t=Le()(e).format("YYYY-MM-DDTHH:mm:ss"),a=Le()(e).format("YYYY-MM-DD");n.setState({startDate:e,reservedDate:t});var l=n.state.doctorsExams.filter((function(e){return Le()(e.appointed_date).format("YYYY-MM-DD")===a?e:null}));n.setState({excludeTime:l})},n.handleSpeciality=function(e){var t=n.state.doctors.filter((function(t){return t.spec===e.label}));n.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},n.handleDoctor=function(e){n.props.dispatch(Yt(e)),n.setState({doctor_id:e.iD,doctorsPrice:e.price,currency:e.currency});var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/web/doc/".concat(e.iD,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e);var t=e.data.data.filter((function(e){return Le()(e.appointed_date).format("YYYY-MM-DD")>=Le()(new Date).format("YYYY-MM-DD")}));n.setState({doctorsExams:t})})).then((function(){var e=Le()(new Date).format("YYYY-MM-DD"),t=n.state.doctorsExams.filter((function(t){return Le()(t.appointed_date).format("YYYY-MM-DD")===e?t:null}));n.setState({excludeTime:t})})),n.setState({resetDoctorSelect:e})},n.handleSubject=function(e){n.setState({subject:e.target.value})},n.handleMessage=function(e){n.setState({notes:e.target.value})},n.handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="Bearer ".concat(n.state.token),!(n.state.specialSP&&n.state.doctor_id&&n.state.subject&&n.state.notes&&n.state.reservedDate)){e.next=14;break}return n.setState({isClicked:!0}),e.next=5,fetch("http://healthcarebackend.xyz/api/web/client/initiate/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({client:n.state.clientId,speciality:n.state.specialSP,doctor:n.state.doctor_id,subject:n.state.subject,notes:n.state.notes,appointed_date:n.state.reservedDate,price:"",attachments:n.state.attachments})});case 5:return l=e.sent,e.next=8,l.json();case 8:return(s=e.sent).success&&(n.setState({doctorsPrice:s.data.price}),n.toCheckout()),console.log(s,"post video requesttttt"),e.abrupt("return",s);case 14:ce.NotificationManager.error("Empty Fielde Or You Did Not Set Time And Date","Failed!",4e3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toCheckout=Object(se.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.props.history.push({pathname:"/checkout",state:{price:n.state.doctorsPrice,currency:n.state.currency}}));case 1:case"end":return e.stop()}}),e)}))),n.handleClientProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:t}}).then((function(e){return console.log(e.data.data,"profile of client"),n.setState({clientId:e.data.data.id})}));case 2:case"end":return e.stop()}}),e)}))),n.handleAttach=function(e){n.setState({attachments:e.target.files[0]})},n.state={complete:!1,specialities:[],doctors:[],filtered:[],subject:"",notes:"",submitted:!1,price:null,doctor_id:null,token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,isClicked:!1,startDate:new Date,reservedDate:new Date,doctorsPrice:"",clientId:null,attachments:null,doctorsExams:[],excludeTime:[],currency:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.handleClientProfile(),he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(t){var a=t.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name}}));e.setState({specialities:a})})),he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(t){console.log(t);var a=t.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_price,currency:e.web_currency}}));e.setState({doctors:a})}))}},{key:"render",value:function(){return console.log(this.state.doctorsPrice),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Ia,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleMessage:this.handleMessage,handleDateChange:this.handleDateChange,handleAttach:this.handleAttach,props:this.state}))}}]),a}(n.Component),Aa=Object(p.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Ma),_a=(a(155),function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=e.handleJoinRoom,i={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,o="Pending"===e.status||"Appointed"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:ia.a,alt:"email"}),l.a.createElement("p",null,"Video details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),e.appointed_date?l.a.createElement("p",null,l.a.createElement("span",null,"Appointed"===e.status||"Finished"===e.status?"Appointed date: :":"Appoint date: ")," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):l.a.createElement("p",null," ",l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{style:{marginLeft:"10px"},className:"divSelectButton"},l.a.createElement(bt.a,{type:"text",placeholder:t,styles:i,className:"select-option",value:c,options:o,onChange:s}))),l.a.createElement("div",{className:"mainMessageDiv"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.created).format("MM/DD/YYYY")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("textarea",{defaultValue:e.notes})),l.a.createElement("div",{className:"reportIfDeclined",style:{display:"Declined"!==e.status?"none":"block"}},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Decline reason:"))),l.a.createElement("div",{className:"messageDivReport"},l.a.createElement("textarea",{name:"text",disabled:"Declined"===e.status&&!0,placeholder:e.decline_notes?e.decline_notes:"text",value:a.declineReason,id:"textarea"})))),"Appointed"===e.status||"Accepted"===e.status?l.a.createElement("div",{className:"message-btn"},l.a.createElement("button",{className:"message-link",id:"StartVideo",onClick:r},"Join now")):null))})))}),Fa=(a(91),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleJoinRoom=function(){window.open("/room/".concat(n.props.match.params.id))},n.handleStatus=function(e){n.setState({statusValue:e});var t=e.value,a=e.label;console.log(t,a),n.setState({selectedStatus:t}),n.handleCancel(t)},n.handleCancel=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/web/client/".concat(n.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({status:t})});case 3:return l=e.sent,e.next=6,l.json();case 6:return s=e.sent,console.log(s),!0===s.success&&n.props.history.push("/dashboard-client"),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.detail=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/web/client/".concat(n.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e.data),n.setState({exam:n.state.exam.concat(e.data.data),appointedDate:e.data.data.appointed_date})}))},n.handleDivClose=function(){n.setState({startVideo:!1})},n.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:n.props.match.params.id,appointedDate:"",YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.detail()}},{key:"componentWillUnmount",value:function(){}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){return console.log(this.state.selectedStatus,this.state.statusValue),l.a.createElement(l.a.Fragment,null,l.a.createElement(_a,{exam:this.state.exam,handleCancel:this.handleCancel,props:this.state,handleStatus:this.handleStatus,handleJoinRoom:this.handleJoinRoom}))}}]),a}(n.Component)),Va=function(e){var t=e.exam;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),t.map((function(e){return l.a.createElement(n.Fragment,{key:e.exam.id},l.a.createElement("div",{className:"detail-exam",style:{height:"300px"}},l.a.createElement("div",{className:"iconVideo",style:{width:"250px"}},l.a.createElement("img",{src:we.a,alt:"email"}),l.a.createElement("p",null,"Waiting room details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e/e.doctor_name),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.exam.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.exam.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam.exam_type),l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.exam.status)),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.exam.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.exam.created).format("MM/DD/YYYY")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Message:")," ",e.exam.notes))))))})))},Ta=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).hanldeClientQueue=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/client/detail/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e,"queue"),n.setState({exam:[e.data.data]})})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={exam:[],id:"",token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:this.props.match.params.id}),this.hanldeClientQueue(this.props.match.params.id)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Va,{exam:this.state.exam}))}}]),a}(n.Component),Ra=function(e){var t=e.exam,a=e.props,s=e.handleStatus,c=e.statusValue,r=(e.handleReplyClick,e.onChangeHandler),i=e.handleSubmitSend,o=e.handleMessage,d=e.newMessage,m={control:function(){return{width:200,border:"2px solid #fa9551",borderRadius:"10px",height:"40px",fontWeight:600,display:"flex"}}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),t.map((function(e){var t="Appointed"===e.status?"Accepted":e.status,u="Pending"===e.status||"Accepted"===e.status?[{value:"Cancel",label:"Cancel"}]:[];return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"detail-exam"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:Nt.a,alt:"email"}),l.a.createElement("p",null,"Email details")," "),l.a.createElement("div",{className:"detail"},l.a.createElement("p",null,l.a.createElement("span",null,"Doctor:")," ",e.doctor),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality:")," ",e.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Created:")," ",new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.created))),l.a.createElement("p",null,l.a.createElement("span",null,"Type:")," ",e.exam_type),"Pending"!==e.status?l.a.createElement("p",null,l.a.createElement("span",null,"Status:")," ",e.status):l.a.createElement("div",{className:"divSelectButton"},l.a.createElement(bt.a,{type:"text",placeholder:t,className:"select-option",value:c,options:u,styles:m,onChange:s}))),l.a.createElement("div",{className:"sideMessageDetails"},l.a.createElement("div",{className:"SubjectMessage"},l.a.createElement("div",{className:"subjectDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Subject:")," ",e.subject),l.a.createElement("p",null,l.a.createElement("span",null,Le()(e.created).format("MM/DD/YYYY HH:mm")))),l.a.createElement("div",{className:"messageDiv"},l.a.createElement("p",null,l.a.createElement("span",null,"Message:")," ",e.message))),l.a.createElement("div",{className:"mainMessageCorrespondence",style:{overflow:0===a.correspondence.length&&"hidden"}},l.a.createElement("div",{className:"MessageCorrespondence"},a.correspondence.map((function(e,t){return l.a.createElement("div",{style:{width:e.sender===a.doctor&&"90%"},key:e.id,className:"Maintbody"},l.a.createElement("div",{style:{background:e.sender===a.doctor&&"#00aff0"},className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",e.sender),l.a.createElement("p",{className:"createdP"},Le()(e.created).add(2,"hours").format("DD-MM-YYYY HH:mm"))),l.a.createElement("div",{className:"row1"},l.a.createElement("textarea",{id:e.id,defaultValue:e.message,className:"message"}),e.attachments?l.a.createElement("div",{className:"attachments"},l.a.createElement("p",{className:"att"},"Attachments: ",e.attachments)):null),a.replyClicked&&a.lastInArray.created===e.created&&l.a.createElement("div",{className:"SendMainDiv"},l.a.createElement("div",{className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",a.client)),l.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:o,value:a.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:i},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:r})))))})),a.replyClicked&&0===a.correspondence.length&&l.a.createElement("div",{className:"SendMainDiv"},l.a.createElement("div",{className:"senderMaiin"},l.a.createElement("p",{className:"senderP"},l.a.createElement("span",null,"From:")," ",a.client)),l.a.createElement("textarea",{type:"text",placeholder:"Message...",onChange:o,value:a.messageValue}),l.a.createElement("div",{className:"sendbuttonAndAtt"},l.a.createElement("button",{onClick:i},l.a.createElement(ve.c,{className:"replyIcon"}),l.a.createElement("span",null,"Send")),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:""})),l.a.createElement("input",{type:"file",name:"myfile",onChange:r})))),"Accepted"===e.status&&l.a.createElement("button",{className:"newMessage",onClick:d},l.a.createElement("h1",null,"+")))))))})))},Ba=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleStatus=function(e){n.setState({statusValue:e});var t=e.value,a=e.label;console.log(t,a),n.setState({selectedStatus:t}),n.handleCancel(t)},n.handleCancel=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,l,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/client/exams/".concat(n.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({status:t})});case 3:return l=e.sent,e.next=6,l.json();case 6:return s=e.sent,console.log(s),s.success&&n.props.history.push("/dashboard-client"),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.detail=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/client/exams/".concat(n.state.id,"/"),{headers:{Authorization:e}}).then((function(e){console.log(e,"detailex"),n.setState({exam:n.state.exam.concat(e.data.data),doctor:e.data.data.doctor})})).catch((function(e){console.log(e.response)}))},n.handleMessage=function(e){n.setState({messageValue:e.target.value})},n.handleReplyClick=function(){n.setState({replyClicked:!n.state.replyClicked})},n.newMessage=function(){n.setState({replyClicked:!0})},n.onChangeHandler=function(e){n.setState({selectedFile:e.target.files[0]})},n.handleSubmitSend=function(e){n.state.messageValue?(n.sendMessage(),n.setState({messageValue:"",replyClicked:!1})):ce.NotificationManager.error("Empty Fields","Failed!",2e3)},n.sendMessage=Object(se.a)(le.a.mark((function e(){var t,a,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/client/exams/".concat(n.state.id,"/message/"),{method:"POST",headers:{"Content-Type":"application/json;",Authorization:t},body:JSON.stringify({message:n.state.messageValue,attachment:n.state.selectedFile})});case 3:return a=e.sent,e.next=6,a.json();case 6:return(l=e.sent).success&&(n.correspondence(n.state.id),ce.NotificationManager.success("Message Sent","Successful!",2e3),n.socket.send({exam_id:n.state.id,message:n.state.messageValue})),console.log(l),console.log(a),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),n.correspondence=function(e){var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/client/exams/".concat(e,"/messages/"),{headers:{Authorization:t}}).then((function(e){console.log(e,"correspondence");var t=e.data.data.map((function(e){return{id:e.id,sender:e.sender,created:e.created,message:e.message,attachment:e.attachment}}));n.setState({correspondence:t,lastInArray:t[t.length-1]})})).catch((function(e){console.log(e.response)}))},n.state={exam:[],statusValue:"",selectedStatus:"",token:sessionStorage.getItem("accessToken"),id:n.props.match.params.id,correspondence:[],lastInArray:null,replyClicked:!1,messageValue:"",selectedFile:null,doctor:"",client:""},n.socket=new WebSocket("ws://healthcarebackend.xyz/ws/message/".concat(n.props.match.params.id,"/")),n}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.detail(),this.correspondence(t),this.socket.onopen=function(){console.log("connected")},this.socket.onmessage=function(a){var n=JSON.parse(a.data);n.exam_id===parseInt(t)&&e.correspondence(t),console.log(n)};var a="Bearer ".concat(this.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:a}}).then((function(t){var a="".concat(t.data.data.user.first_name," ").concat(t.data.data.user.last_name);return e.setState({client:a})}))}},{key:"render",value:function(){return console.log(this.state.client),l.a.createElement(l.a.Fragment,null,l.a.createElement(Ra,{exam:this.state.exam,props:this.state,handleStatus:this.handleStatus,onChangeHandler:this.onChangeHandler,handleMessage:this.handleMessage,newMessage:this.newMessage,handleReplyClick:this.handleReplyClick,handleSubmitSend:this.handleSubmitSend}))}}]),a}(n.Component);a(411);var Ya=function(e){var t=e.props,a=e.handleChange,n=e.handleSubmit;return l.a.createElement("div",{className:"mainForgotPass"},l.a.createElement("div",{className:"forgot",style:{display:t.message?"none":"block"}},l.a.createElement("h2",null,"Forgot your password?"),l.a.createElement("p",null,"Tell us your email address, and we'll get you back on track in no time."),l.a.createElement("label",{htmlFor:"email"},"Email Address"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",id:"email",placeholder:"Enter your Email Address",value:t.userEmail,onChange:a}),l.a.createElement("br",null),l.a.createElement("button",{onClick:n},"Confirm email"),l.a.createElement("div",{className:"mainGoBackDiv"},l.a.createElement(m.b,{to:"/login",className:"goBack"},"Back to sing in"))),l.a.createElement("div",{className:"message",style:{display:t.message?"block":"none"}},l.a.createElement("h3",null,t.message)))},za=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({userEmail:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.userCheck()},n.userCheck=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://healthcarebackend.xyz/api/auth/reset/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.userEmail})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),a.success,n.setState({message:a.message});case 8:case"end":return e.stop()}}),e)}))),n.state={userEmail:"",message:null,newPassword:"",confPassword:""},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(Ya,{props:this.state,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(be,null)))}}]),a}(n.Component);a(412);var La=function(e){var t=e.handleNewPassword,a=e.handleConfPassword,n=e.handleChangePassSubmit,s=e.props;return l.a.createElement("div",{className:"mainChangePass"},l.a.createElement("div",{className:"newPasswords",style:{display:s.message?"none":"block"}},l.a.createElement("h2",null,"Changing password"),l.a.createElement("p",null,"Please note that when changing your password, we ask you to set yourself a secure password that contains both uppercase and lowercase letters as well as numbers. This is for your own safety."),l.a.createElement("label",{htmlFor:"newPass"},"New password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"newPass",value:s.newPassword,onChange:t}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"confPass"},"Confirm new password"),l.a.createElement("br",null),l.a.createElement("input",{type:"password",id:"confPass",value:s.confPassword,onChange:a}),l.a.createElement("button",{onClick:n},"Change password")),l.a.createElement("div",{className:"message",style:{display:s.message?"block":"none"}},l.a.createElement("h3",null,s.message)))},Ua=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleNewPassword=function(e){n.setState({newPassword:e.target.value})},n.handleConfPassword=function(e){n.setState({confPassword:e.target.value})},n.handleChangePassSubmit=function(e){e.preventDefault(),n.state.newPassword===n.state.confPassword?n.changePass():ce.NotificationManager.error("Confirmation password is not identical","Failed!",2e3)},n.changePass=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://healthcarebackend.xyz/api/auth/reset-confirm/".concat(n.state.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n.state.newPassword,confirm_password:n.state.confPassword})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),a.success,n.setState({message:a.message});case 8:case"end":return e.stop()}}),e)}))),n.state={newPassword:"",confPassword:"",message:null,id:n.props.match.params.id},n}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.id,this.state.pass,this.state.newPassword,this.state.confPassword),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(La,{handleNewPassword:this.handleNewPassword,handleConfPassword:this.handleConfPassword,handleChangePassSubmit:this.handleChangePassSubmit,props:this.state}),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(be,null)))}}]),a}(n.Component),qa=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getResponse=function(){he.a.get("http://healthcarebackend.xyz/api/auth/activate/".concat(n.state.id),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),n.setState({message:e.data.message})})).catch((function(e){console.log(e)}))},n.state={id:n.props.match.params.id,message:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getResponse()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement("div",null,l.a.createElement("h3",{style:{marginTop:"20%",color:"#4092c2"}},this.state.message)),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement(be,null)))}}]),a}(n.Component),Wa=(a(413),a(259)),Ha=a.n(Wa);var Ja=function(e){var t=e.handleClient,a=e.clients,n=e.handleSort,s=e.handleSearch,c=e.props;return l.a.createElement("div",{className:"mainClientsDiv"},l.a.createElement("div",{className:"clientsAbove"},l.a.createElement("img",{src:Ha.a,alt:"my patients"}),l.a.createElement("h4",null,"Clients")),l.a.createElement("div",{className:"clientsDiv"},l.a.createElement("label",null,"Search by name:"," ",l.a.createElement("input",{type:"text",value:c.searchName,placeholder:"Search",onChange:s})),l.a.createElement("label",null,"Sort by:"," ",l.a.createElement("select",{onClick:n},l.a.createElement("option",{value:""},"Sort it..."),l.a.createElement("option",{value:"nameAZ"},"Name: A-Z"),l.a.createElement("option",{value:"nameZA"},"Name: Z-A")))),l.a.createElement("div",{className:"row2"},""===c.messageIfEmpty&&0===c.upcomingandPast.length?a.map((function(e){return null===e.client_id?null:l.a.createElement("div",{key:e.client_id,className:"list-group"},l.a.createElement("button",{"data-id":e.client_id,className:"list-group-item",onClick:function(){return t(e.client_id)}},e.client,l.a.createElement("img",{src:"default.jpg"===e.image?la.a:"http://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"})))})):""===c.messageIfEmpty&&0!==c.upcomingandPast.length?c.upcomingandPast.map((function(e){return null===e.client_id?null:l.a.createElement("div",{key:e.client_id,className:"list-group"},l.a.createElement("button",{"data-id":e.client_id,className:"list-group-item",onClick:function(){return t(e.client_id)}},e.client,l.a.createElement("img",{src:"default.jpg"===e.image?la.a:"http://healthcarebackend.xyz/media/".concat(e.image),alt:"cliet profile"})))})):l.a.createElement("h4",{style:{color:"#666666"}},c.messageIfEmpty)))},Ga=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClient=function(e){n.props.history.push("/doctor/record/".concat(e))},n.handleSearch=function(e){n.setState({searchName:e.target.value});var t=setInterval((function(){n.handlingSearchByName(),clearInterval(t)}),10)},n.handleSort=function(e){if("nameAZ"===e.target.value){var t=(0===n.state.upcomingandPast.length?n.state.clients:n.state.upcomingandPast).sort((function(e,t){return e.client>t.client?1:e.client<t.client?-1:0}));0===n.state.upcomingandPast.length&&n.setState({clients:t}),0!==n.state.upcomingandPast.length&&n.setState({upcomingandPast:t}),n.setState({clients:t})}else if("nameZA"===e.target.value){var a=(0===n.state.upcomingandPast.length?n.state.clients:n.state.upcomingandPast).sort((function(e,t){return e.client>t.client?-1:e.client<t.client?1:0}));0===n.state.upcomingandPast.length&&n.setState({clients:a}),0!==n.state.upcomingandPast.length&&n.setState({upcomingandPast:a})}},n.clients=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/clients/",{headers:{Authorization:e}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return e}));n.setState({clients:t})}))},n.handlingSearchByName=function(){var e=n.state.searchName.toLowerCase().split(" "),t=n.state.clients.filter((function(t){var a=t.client.split(" ");if(console.log(a),e[1]){if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])&&a[1].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])||a[0].toLowerCase().indexOf(e[1])===e[1].indexOf(e[1])&&a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t}else if(a[0].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0])||a[1].toLowerCase().indexOf(e[0])===e[0].indexOf(e[0]))return t;return null}));console.log(t);var a=0===t.length?"No Such Client":"";n.setState({upcomingandPast:t,messageIfEmpty:a})},n.state={clients:[],token:sessionStorage.getItem("accessToken"),searchName:"",messageIfEmpty:"",upcomingandPast:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.clients()}},{key:"render",value:function(){return console.log(this.state.clients),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(Ja,{clients:this.state.clients,handleClient:this.handleClient,handleSort:this.handleSort,handleSearch:this.handleSearch,props:this.state}))}}]),a}(n.Component),Qa=(a(414),function(e){var t=e.handleSpeciality,a=e.handleDoctor,n=e.handleSubject,s=e.handleSubmit,c=e.handleExitQueue,r=e.handleVideoStart,i=e.handleMessage,o=e.props,d=e.handleChange,m=e.enableTipeing,u=(e.iconsMouseOut,e.iconsMouseOver,e.handleDragDrop,e.handleResize,e.showAndHideChat,e.handleDivSize,e.cutVideo),p=e.cutMic,h=e.showExtendScreenIcon,g=!o.credits,f=!!o.credits,E=!o.doctorStartedVideo;console.log(o.specDoctor);var v={control:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})},option:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{textAlign:"left",color:"Away"===t.data.status?"#C7CD00":"Offline"===t.data.status&&"red"})}},b={control:function(e,t){return Object(wt.a)(Object(wt.a)({},e),{},{height:"40px",border:"1.7px solid #fa9551",borderRadius:"10px",width:"305px",marginLeft:"2px",background:"white",color:"#666666",fontWeight:"600"})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"exam",style:{display:o.startVideo?"none":"block"}},l.a.createElement("div",{className:"mainExam"},l.a.createElement("div",{className:"newVideo"},l.a.createElement("img",{src:we.a,alt:"video img"}),l.a.createElement("p",null,"Waiting room")),l.a.createElement("div",{className:"exam-spec"},l.a.createElement(bt.a,{type:"text",id:"speciality",placeholder:o.currentClient?o.currentClient.speciality:"Select Speciality...",options:o.specialities,isDisabled:f,styles:b,onChange:t})),l.a.createElement("div",{className:"exam-doc"},l.a.createElement(bt.a,{style:!0,styles:v,type:"text",id:"doctor",placeholder:o.currentClient?o.currentClient.doctor_name:"Select Doctor...",options:o.specDoctor,getOptionLabel:function(e){return"".concat(e.label,": (").concat(e.status,")")},isDisabled:f,onChange:a,value:0===o.specDoctor.length?null:[o.resetDoctorSelect]})),l.a.createElement("div",{className:"exam-sub"},l.a.createElement("input",{type:"text",className:"form-control",id:"subject",placeholder:"Enter subject",value:o.currentClient?o.currentClient.subject:o.subject,onChange:n}))),l.a.createElement("div",{className:"queue"},l.a.createElement("div",{className:"exam-mes"},l.a.createElement("textarea",{type:"text",className:"form-control",id:"exam-notes",placeholder:"Enter notes",value:o.currentClient?o.currentClient.notes:o.notes,onChange:i})),l.a.createElement("div",{className:"queueInfo"},l.a.createElement("div",{className:"queueMain"},l.a.createElement("div",{className:"statusQueue"},l.a.createElement("p",null,"Queue status"),l.a.createElement("div",null,o.credits&&0===o.YourNumber?l.a.createElement("h4",{style:{border:"1.7px solid #fa9551",color:"#fa9551",borderRadius:"10px"}},"Be Ready"):o.credits?l.a.createElement("h4",{style:{border:"1.7px solid green",color:"green",borderRadius:"10px"}},"In the queue"):l.a.createElement("h4",{style:{border:" 1.7px solid red",borderRadius:"10px",color:"red"}},"Out of queue"))),l.a.createElement("div",{className:"timeEst"},l.a.createElement("p",null,"People before you"),l.a.createElement("div",null,l.a.createElement("p",null,"Num"),l.a.createElement("h4",null,o.credits?o.YourNumber:o.peopleInQueue.length)))),0===o.YourNumber&&!o.doctorsVideoId&&o.credits?l.a.createElement("p",null,"Be ready, Waiting from Doctors connection..."):null,l.a.createElement("div",{className:"startandexit"},l.a.createElement("button",{value:o.submitted,disabled:f,className:"send",onClick:s},"Enter queue"),l.a.createElement("button",{className:"exitQueue",onClick:c,disabled:g},"Exit queue")))),l.a.createElement("div",{className:"divAndAttach"},l.a.createElement("button",{id:"StartVideo",className:"startThatChat",disabled:E,onClick:r},"Start video"),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn"},l.a.createElement("img",{src:St.a,alt:"attach"})),l.a.createElement("input",{type:"file",name:"myfile"}))),l.a.createElement("div",null)),l.a.createElement("div",{className:"detailExam",style:{display:o.startVideo?"block":"none",padding:0}},l.a.createElement("div",{className:"iconVideoo"},l.a.createElement("img",{src:ia.a,alt:"email"}),l.a.createElement("p",null,"Video call")," "),l.a.createElement("div",{className:"detail2"},l.a.createElement("div",{className:"detailInfo2",id:"detailInfo2"},l.a.createElement("p",{className:"ClientP"},l.a.createElement("span",null,"Doctor:")," ",o.currentClient.doctor_name),l.a.createElement("div",{className:"MainIconsDiv"},l.a.createElement("img",{src:ua.a,className:"iconMic",alt:"img",style:{display:o.audio?"block":"none"},onClick:p}),l.a.createElement("img",{src:ha.a,className:"iconMicUnmute",alt:"img",style:{display:o.audio?"none":"block"},onClick:p}),l.a.createElement("img",{src:fa.a,alt:"img",className:"iconPhone"}),l.a.createElement("img",{src:va.a,className:"iconVideo",alt:"img",style:{display:o.video?"block":"none"},onClick:u}),l.a.createElement("img",{src:ya.a,alt:"img",className:"iconVideoShow",style:{display:o.video?"none":"block"},onClick:u})),l.a.createElement("div",{className:"MainDivForChat"},l.a.createElement("p",null,"Chat"),l.a.createElement("form",{autoComplete:"off",action:"",id:"form"},l.a.createElement("pre",{id:"messages"}),l.a.createElement("div",{className:"inputMessage"},l.a.createElement("input",{type:"text",placeholder:"Type a message",id:"yourMessage",value:o.value,onChange:d,onMouseDown:m}),l.a.createElement("button",{style:{display:"hidden"},id:"send"},"Send"))))),l.a.createElement("div",{id:"videoChat",onMouseEnter:h,onMouseLeave:h},l.a.createElement("img",{src:xa.a,style:{display:!o.showExtendScreen&&"none"},className:"extendScreen",alt:"screen icon"})))))}),Za=new WebSocket("ws://healthcarebackend.xyz/ws/doctor/status/"),Ka=new WebSocket("ws://healthcarebackend.xyz/ws/video/"),Xa=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var l;return Object(r.a)(this,n),(l=t.call(this,e))._isMounted=!1,l.handleVideoStart=function(e){e.preventDefault(),l.setState({startVideo:!0}),navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){var t=document.createElement("video");t.id="myVid",document.getElementById("detailInfo2").appendChild(t),t.srcObject=e,t.play(),document.getElementById("myVid").style.cssText="position: absolute; left: 10px; bottom: 9px; height: 170px; width: 320px;"}))},l.handleSpeciality=function(e){var t=l.state.doctors.filter((function(t){return t.spec===e.label}));l.setState({specialSP:e.value,specDoctor:t,resetDoctorSelect:null})},l.handleDoctor=function(e){console.log(e),"Away"===e.status?ce.NotificationManager.warning("Doctor is Away at the moment and not available for consultation.","Warning!",4e3):"Offline"===e.status?ce.NotificationManager.error("Doctor is Offline at the moment and not available for consultation.","Warning!",4e3):(l.props.dispatch(Yt(e)),console.log(e),l.setState({currency:e.currency,doctor_id:e.iD,doctorsStatus:e.status,resetDoctorSelect:e}),l.QueueList(e.iD))},l.handleSubject=function(e){l.setState({subject:e.target.value})},l.handleExitQueue=Object(se.a)(le.a.mark((function e(){var t,a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(l.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/queue/client/delete/".concat(l.state.currentClient.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({status:"Cancel"})});case 3:return a=e.sent,e.next=6,a.json();case 6:return!0===(n=e.sent).success&&(Ka.close(),l.setState({credits:!1,peopleInQueue:[],doctorsVideoId:null}),l.hanldeClientQueue(l.state.client_id)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),l.hanldeClientQueue=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(l.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/client/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){if(console.log(e,"Client, IDDDDDDDD"),!e.data.data)return null;"In the queue"!==e.data.data.status&&"Accepted"!==e.data.data.status||(l.setState({credits:!0,currentClient:e.data.data}),void 0!==l.props.location.state&&"exitQueue"===l.props.location.state.detail&&l.handleExitQueue()),l.QueueList(e.data.data.doctor)})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.handleSubmit=function(){var e=Object(se.a)(le.a.mark((function e(t){var a,n,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="Bearer ".concat(l.state.token),!(l.state.specialSP&&l.state.doctor_id&&l.state.notes&&l.state.subject&&"Available"===l.state.doctorsStatus)){e.next=15;break}return l.setState({isClicked:!0}),e.next=5,fetch("http://healthcarebackend.xyz/api/queue/enter/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({client:l.state.client_id,speciality:l.state.specialSP,doctor:l.state.doctor_id,subject:l.state.subject,attachments:l.state.attachment,notes:l.state.notes})});case 5:return n=e.sent,e.next=8,n.json();case 8:return s=e.sent,l.setState({price:s.data.price}),l.hanldeClientQueue(l.state.client_id),l.toCheckout(),e.abrupt("return",s);case 15:l.state.doctorsStatus&&"Available"!==l.state.doctorsStatus?ce.NotificationManager.error("Doctor is not Available at the moment","Failed!",4e3):ce.NotificationManager.error("Empty Fields","Failed!",2e3);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.toCheckout=Object(se.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.props.history.push({pathname:"/checkout",state:{price:l.state.price,location:l.props.location.pathname,currency:l.state.currency}}));case 1:case"end":return e.stop()}}),e)}))),l.handleClientProfile=function(){var e="Bearer ".concat(l.state.token);he.a.get("http://healthcarebackend.xyz/api/client/profile/",{headers:{Authorization:e}}).then((function(e){l.setState({client_id:e.data.data.id});var t=e.data.data.id;l.hanldeClientQueue(t)}))},l.QueueList=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(l.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/doctor/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e,"people in queue");var t=e.data.data.queue.filter((function(e){return"Canceled"!==e.status&&"Declined"!==e.status&&"Finished"!==e.status}));l.setState({peopleInQueue:Object(Ne.a)(l.state.peopleInQueue.concat(t))}),l.socketTestStart(),l.PeopleBeforeYou(),l.handleDoctorsStatus()})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.PeopleBeforeYou=function(){if(0!==l.state.peopleInQueue.length){var e=l.state.peopleInQueue.map((function(e){return e.id})).indexOf(l.state.currentClient.id);l.setState({YourNumber:e})}},l.socketTestStart=function(){l.state.currentClient&&(Ka.onopen=function(){console.log("connected"),l.setState({connection:Ka}),Ka.send(JSON.stringify({id:l.state.currentClient.id,connectedClient:!0}))}),Ka.onmessage=function(e){var t=JSON.parse(e.data);null!==JSON.parse(t.text)&&JSON.parse(t.text).status?"Finished"!==JSON.parse(t.text).status&&"Declined"!==JSON.parse(t.text).status||window.location.reload():l.state.doctorsVideoId||parseInt(JSON.parse(t.text).id)||"undefined"===t.text?JSON.parse(t.text)&&(parseInt(JSON.parse(t.text).id)===l.state.currentClient.id&&JSON.parse(t.text).connectedDoctor?Ka.send(JSON.stringify({id:l.state.currentClient.id,connectedClient:!0})):"Cancel Video From Doctor"===JSON.parse(t.text)?(l.handleDivClose(),window.location.reload()):"doctor is started video"===JSON.parse(t.text)&&l.setState({doctorStartedVideo:!0})):(l.setState({doctorsVideoId:t.text}),l.socketStart())}},l.specialitiesOfDoctors=function(){he.a.get("http://healthcarebackend.xyz/api/specialities/").then((function(e){var t=e.data.data.map((function(e){return{value:e.id,iD:e.speciality_id,label:e.name,status:e.status}}));l.setState({specialities:t})}))},l.allDoctors=function(){he.a.get("http://healthcarebackend.xyz/api/doctor/list/").then((function(e){console.log(e,"response");var t=e.data.data.map((function(e){return{value:e.id,iD:e.id,label:e.doctor,spec:e.speciality,price:e.web_exam_follow_price,currency:e.web_follow_up_currency,status:e.status}}));l.setState({doctors:t})}))},l.handleDoctorsStatus=function(){l.state.peopleInQueue.forEach((function(e){e.client_id===l.state.client_id&&l.state.doctors.filter((function(t){return t.iD===e.doctor})).map((function(e){return"Available"!==e.status&&(l.setState({credits:!1}),l.handleExitQueue(),ce.NotificationManager.warning("Doctor is not Available at the moment","Warning!",4e3)),null}))}))},l.socketStart=function(){return navigator.webkitGetUserMedia({video:l.state.video,audio:l.state.audio},(function(e){var t=new(a(91))({trickle:!1,stream:e});if(t.on("signal",(function(e){var t=JSON.stringify(e);Ka.send(t)})),document.getElementById("StartVideo").addEventListener("click",(function(){t.signal(l.state.doctorsVideoId),Ka.send(JSON.stringify({id:l.state.currentClient.id,startingVideo:!0})),s.enabled=!s.enabled,c.enabled=!c.enabled})),null!==l.state.doctorsVideoId)var n=setInterval((function(){return Ka.send(JSON.stringify({id:l.state.currentClient.id,startingVideo:!0})),clearInterval(n),t.signal(l.state.doctorsVideoId)}),500);document.getElementById("send").addEventListener("click",(function(){var e=document.getElementById("yourMessage").value;t.send(e)})),Ka.onclose=function(){console.error("disconnected"),window.location.reload()},Ka.onerror=function(e){console.error("failed to connect",e)},document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#yourMessage").value;Ka.send(t),document.getElementById("messages").innerHTML+="<p style='color: #666666 ;margin: 5px auto 5px 0;display: table; white-space: initial ; background: #e6e6e6; padding: 5px 10px 0 0; border-radius: 10px'><span>Client:</span>".concat(t,"</p>"),l.setState({value:""});var a=document.getElementById("messages");a.scrollTop=a.scrollHeight})),t.on("data",(function(e){document.getElementById("messages").innerHTML+="<p style='color: #666666 ; margin: 5px 0 5px auto; background: #e6e6e6 ;display: table; white-space: initial; padding: 5px 10px 0 0; border-radius: 10px'><span>Doctor:</span>".concat(e,"</p>");var t=document.getElementById("messages");t.scrollTop=t.scrollHeight}));var s=e.getAudioTracks()[0],c=e.getVideoTracks()[0];s.enabled=!s.enabled,c.enabled=!c.enabled,document.querySelector(".iconMic").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){c.enabled=!c.enabled})),document.querySelector(".iconMicUnmute").addEventListener("click",(function(){s.enabled=!s.enabled})),document.querySelector(".iconVideoShow").addEventListener("click",(function(){c.enabled=!c.enabled})),t.on("stream",(function(e){var t=new MediaStream(e),a=document.createElement("video");a.classList.add("vid"),document.getElementById("videoChat").appendChild(a),a.srcObject=t,a.play()})),t.on("close",(function(){l.handleDivClose(),window.location.reload()})),document.querySelector(".iconPhone").addEventListener("click",(function(){Ka.send(JSON.stringify("Cancel Video From Client")),l.handleDivClose(),window.location.reload()}))}),(function(e){console.error(e)}))},l.handleChange=function(e){l.setState({value:e.target.value})},l.handleMessage=function(e){l.setState({notes:e.target.value})},l.enableTipeing=function(e){e.stopPropagation()},l.iconsMouseOver=function(){l.setState({hover:!0})},l.iconsMouseOut=function(){l.setState({hover:!1})},l.handleDragDrop=function(e){l.setState({x:e.x,y:e.y})},l.handleResize=function(e,t){var a=document.getElementById("videoo");l.setState(Object(wt.a)({width:a.style.width,height:a.style.height},e))},l.showAndHideChat=function(){l.setState({showChat:!l.state.showChat})},l.handleDivSize=function(){l.setState({width:window.screen.width,height:window.screen.height,x:-320,y:-100}),document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),l.setState({width:700,height:500})):document.documentElement.requestFullscreen()},l.handleDivClose=function(){l.setState({startVideo:!1})},l.cutMic=function(){l.setState({audio:!l.state.audio})},l.cutVideo=function(){l.setState({video:!l.state.video})},l.showExtendScreenIcon=function(){l.setState({showExtendScreen:!l.state.showExtendScreen})},l.state={specialities:[],doctors:[],subject:"",submitted:!1,price:null,doctor_id:null,client_id:"",doctorsStatus:"",token:sessionStorage.getItem("accessToken"),specDoctor:[],specialSP:[],resetDoctorSelect:null,isClicked:!1,credits:!1,attachment:null,currentClient:"",peopleInQueue:[],YourNumber:null,doctorsVideoId:null,startVideo:!1,value:"",width:700,height:500,x:0,y:0,hover:!1,showChat:!1,video:!0,audio:!0,notes:"",connection:"",doctorStartedVideo:!1,showExtendScreen:!1},l}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,Ka.close()}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=setInterval((function(){!e.state.connection&&e.state.currentClient&&window.location.reload(),clearInterval(t)}),15e3);Za.onopen=function(){console.log("connected to the doctor status socket")},Za.onmessage=function(t){var a=e.state.doctors.filter((function(e){return e.iD===JSON.parse(t.data).id}));Object.assign(a[0],{status:JSON.parse(t.data).status})},this.handleClientProfile(),this.specialitiesOfDoctors(),this.allDoctors()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,{exitQueue:this.exitQueue}),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Qa,{handleSpeciality:this.handleSpeciality,handleDoctor:this.handleDoctor,handleSubject:this.handleSubject,handleSubmit:this.handleSubmit,handleExitQueue:this.handleExitQueue,handleVideoStart:this.handleVideoStart,props:this.state,handleChange:this.handleChange,enableTipeing:this.enableTipeing,iconsMouseOut:this.iconsMouseOut,iconsMouseOver:this.iconsMouseOver,handleDragDrop:this.handleDragDrop,handleResize:this.handleResize,showAndHideChat:this.showAndHideChat,handleDivSize:this.handleDivSize,cutMic:this.cutMic,cutVideo:this.cutVideo,handleMessage:this.handleMessage,showExtendScreenIcon:this.showExtendScreenIcon}))}}]),n}(n.Component),$a=Object(p.b)((function(e){return{doctor:e.getIn(["doctorReducer","doctor"]),price:e.price}}))(Xa),en=a(488),tn=a(182),an=a(484),nn=a(485),ln=a(486),sn=a(487),cn=a(489),rn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).peopleVideoPending=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(n.state.token),e.next=3,he.a.get("http://healthcarebackend.xyz/doctor/",{headers:{Authorization:t}}).then((function(e){console.log(e.data.data);var t=e.data.data.video.filter((function(e){return"Appointed"===e.status})).map((function(e){return{client:e.client,startTime:e.appointed_date,endTime:Le()(e.appointed_date).add(30,"minutes").format("YYYY-MM-DD HH:mm"),id:e.id}}));n.setState({exams:Object(Ne.a)(n.state.exams.concat(t))})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),n.state={token:sessionStorage.getItem("accessToken"),exams:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.peopleVideoPending()}},{key:"render",value:function(){return console.log(this.state.exams),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement("div",{style:{width:"65%",margin:"100px auto 58px auto"}},l.a.createElement(en.a,{currentView:"Day",workHours:{highlight:!0,start:"09:00",end:"17:00"},selectedDate:new Date,eventSettings:{dataSource:this.state.exams,fields:{id:"id",subject:{name:"client"},startTime:{name:"startTime"},endTime:{name:"endTime"}}}},l.a.createElement(tn.b,{services:[an.a,nn.a,ln.a,sn.a,cn.a]}))))}}]),a}(n.Component),on=(a(415),function(e){var t=e.props,a=e.handleClick;return t.exams.map((function(e){return t.mail.includes(e.id)&&"mail"===e.exam_type?Object.assign(e,{isRead:!0}):Object.assign(e,{isRead:!1})})),l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:Nt.a,alt:"email"}),l.a.createElement("p",null,"Email request")," "),t.loading?l.a.createElement("img",{src:F.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),dn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).paginatedExams=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:t}}).then((function(e){0!==e.data.data.mail.length?n.setState({exams:e.data.data.mail,loading:!1}):n.setState({messageOnScreen:"No Email",loading:!1})})).catch((function(e){console.log(e.response,"error"),n.setState({loading:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.handleClick=function(e,t){"mail"===t&&n.props.history.push("/doctor/exam/detail/".concat(e))},n.getUnreadMessages=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e,"response");var t=e.data.data.filter((function(e){return 0!==e.messages.length?e.messages[e.messages.length-1].sender!=="".concat(n.state.doctorCurent.prefix," ").concat(n.state.doctorCurent.doctor):e}));console.log(t,"od nzm ni ja");var a=t.map((function(e){return e.exam.id}));n.setState({mail:a})})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDoctorProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(e){var t=e.data.data;n.setState({doctorCurent:t}),n.paginatedExams(),n.getUnreadMessages(n.state.doctorCurent.id)}));case 2:case"end":return e.stop()}}),e)}))),n.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken"),mail:[],doctorCurent:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(on,{props:this.state,handleClick:this.handleClick}))}}]),a}(n.Component),mn=Object(p.b)((function(e){return{doctor:e.getIn(["docReducer","doctor"])}}))(dn),un=(a(416),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:ia.a,alt:"email"}),l.a.createElement("p",null,"Video requests")," "),t.loading?l.a.createElement("img",{src:F.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),pn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).paginatedExams=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/exams/doctor/",{headers:{Authorization:t}}).then((function(e){0!==e.data.data.video.length?n.setState({exams:e.data.data.video,loading:!1}):n.setState({messageOnScreen:"No Video",loading:!1})})).catch((function(e){console.log(e.response,"error"),n.setState({loading:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.handleClick=function(e,t){"video"===t&&n.props.history.push("/doctor/video/exam/detail/".concat(e,"/#init"))},n.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.paginatedExams()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(un,{props:this.state,handleClick:this.handleClick}))}}]),a}(n.Component),hn=(a(417),function(e){var t=e.props,a=e.handleClick;return l.a.createElement("div",{className:"mainEmailList"},l.a.createElement("div",{className:"iconEmail"},l.a.createElement("img",{src:we.a,alt:"email"}),l.a.createElement("p",null,"Waiting room requests")," "),t.loading?l.a.createElement("img",{src:F.a,alt:"loading",className:"loading"}):l.a.createElement("div",{className:"tableDiv"},l.a.createElement("table",{className:"table2"},l.a.createElement("thead",{className:"client-head"},l.a.createElement("tr",{className:"client-row"},l.a.createElement("th",{className:"client-doctor"},l.a.createElement("div",{className:"mainExamDiv"},l.a.createElement("span",{className:"examTypetext"},"Client"," "))),l.a.createElement("th",{className:"client-subject"},"Subject"),l.a.createElement("th",{className:"client-date"},"Date"))),""===t.messageOnScreen&&t.exams.map((function(e,t){return l.a.createElement("tbody",{key:t,className:"client-body"},l.a.createElement("tr",{className:"list-group",style:{fontWeight:e.isRead&&700},onClick:function(){return a(e.id,e.exam_type)}},l.a.createElement("td",{className:"client-doctor"},e.client),l.a.createElement("td",{className:"client-subject"},"Subject: ",e.subject),l.a.createElement("td",{className:"created"},e.created&&!e.appointed_date?l.a.createElement("p",null," ",Le()(e.created).format("MM/DD/YYYY")):e.appointed_date?l.a.createElement("p",null," ",Le()(e.appointed_date).format("MM/DD/YYYY HH:mm")):null)))})))))}),gn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDoctorProfile=Object(se.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/doctor/profile/",{headers:{Authorization:t}}).then((function(e){var t=e.data.data;n.peopleInWaitingRoom(t.id)}));case 2:case"end":return e.stop()}}),e)}))),n.peopleInWaitingRoom=function(){var e=Object(se.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="Bearer ".concat(n.state.token),he.a.get("http://healthcarebackend.xyz/api/queue/today/".concat(t,"/"),{headers:{Authorization:a}}).then((function(e){console.log(e),n.setState({exams:e.data.data.queue,loading:!1})})).catch((function(e){console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleClick=function(e,t){"queue"===t&&n.props.history.push("/doctor/processing/video/exam/".concat(e,"/#init"))},n.state={exams:[],loading:!0,messageOnScreen:"",token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleDoctorProfile()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(ut,null),l.a.createElement(hn,{props:this.state,handleClick:this.handleClick}))}}]),a}(n.Component),fn=a(143),En=function(e){var t=e.component,a=Object(fn.a)(e,["component"]);return l.a.createElement(ee.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"false"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(ee.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},vn=function(e){var t=e.component,a=Object(fn.a)(e,["component"]);return l.a.createElement(ee.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("accessToken")&&"true"===sessionStorage.getItem("is_doctor")?l.a.createElement(t,e):l.a.createElement(ee.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},bn=a(77),yn=a.n(bn);a(418);var Nn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettings"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:yn.a,alt:"img"}),l.a.createElement("p",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"John"),l.a.createElement("input",{id:"Email",placeholder:"Email",value:t.Email,onChange:s,autoComplete:"off",type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?Dt.a:jt.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},xn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleImage=function(){n.setState({seePass:!n.state.seePass})},n.handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.userLogin=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.Email,password:n.state.Password})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),a.password?ce.NotificationManager.error("".concat(a.password[0]),"Failed!",3e3):a.email?ce.NotificationManager.error("".concat(a.email[0]),"Failed!",3e3):!1===a.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===a.success&&n.props.history.push({pathname:"/doctors-update",state:{detail:"doctor found"}});case 8:case"end":return e.stop()}}),e)}))),n.state={seePass:!1,Email:"",Password:""},n}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Nn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),a}(n.Component);a(419);var Sn=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdate"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:yn.a,alt:"img"}),l.a.createElement("p",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",type:t.seePass1?"text":"password",autoComplete:"off",value:t.NewPassword,onChange:n}),l.a.createElement("img",{onClick:s,src:t.seePass1?Dt.a:jt.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?Dt.a:jt.a,alt:"img"}))),l.a.createElement("button",{onClick:a},"Update"))},Cn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.handleImage1=function(){n.setState({seePass1:!n.state.seePass1})},n.handleImage2=function(){n.setState({seePass2:!n.state.seePass2})},n.userLogin=Object(se.a)(le.a.mark((function e(){var t,a,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({new_password:n.state.NewPassword,confirm_password:n.state.ConfNewPassword})});case 3:return a=e.sent,e.next=6,a.json();case 6:l=e.sent,console.log(l),!1===l.success?ce.NotificationManager.error("".concat(l.error),"Failed!",2e3):!0===l.success&&(ce.NotificationManager.success("".concat(l.message),"Successful!",2e3),n.props.history.push("/doctors-settings"));case 9:case"end":return e.stop()}}),e)}))),n.state={NewPassword:"",ConfNewPassword:"",seePass1:!1,seePass2:!1,token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/doctors-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(Sn,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),a}(n.Component);a(420);var kn=function(e){var t=e.props,a=e.handleImage,n=e.userLogin,s=e.handleChange;return l.a.createElement("div",{className:"mainSettingsClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:yn.a,alt:"img"}),l.a.createElement("p",null,"Settings")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Email"},"John"),l.a.createElement("input",{id:"Email",placeholder:"Email",value:t.Email,autoComplete:"off",onChange:s,type:"text"}),l.a.createElement("label",{htmlFor:"Password"},"Password"),l.a.createElement("div",{className:"imageAndInputDiv"},l.a.createElement("input",{id:"Password",value:t.Password,onChange:s,autoComplete:"off",type:t.seePass?"text":"password"}),l.a.createElement("img",{onClick:a,src:t.seePass?Dt.a:jt.a,alt:"img"})),l.a.createElement("button",{onClick:n},"Update")))},wn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleImage=function(){n.setState({seePass:!n.state.seePass})},n.handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.userLogin=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://healthcarebackend.xyz/api/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.Email,password:n.state.Password})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),a.password?ce.NotificationManager.error("".concat(a.password[0]),"Failed!",3e3):a.email?ce.NotificationManager.error("".concat(a.email[0]),"Failed!",3e3):!1===a.success?ce.NotificationManager.error("Invalid credentials","Failed!",3e3):!0===a.success&&n.props.history.push({pathname:"/client-update",state:{detail:"client found"}});case 8:case"end":return e.stop()}}),e)}))),n.state={seePass:!1,Email:"",Password:""},n}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.Password),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(kn,{props:this.state,handleImage:this.handleImage,userLogin:this.userLogin,handleChange:this.handleChange}))}}]),a}(n.Component);a(421);var On=function(e){var t=e.props,a=e.userLogin,n=e.handleChange,s=e.handleImage1,c=e.handleImage2;return l.a.createElement("div",{className:"mainUpdateClient"},l.a.createElement("div",{className:"iconVideo"},l.a.createElement("img",{src:yn.a,alt:"img"}),l.a.createElement("p",null,"Update account")," "),l.a.createElement("div",{className:"doctor"},l.a.createElement("label",{htmlFor:"Password"},"New Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"NewPassword",value:t.NewPassword,autoComplete:"off",onChange:n,type:t.seePass1?"text":"password"}),l.a.createElement("img",{onClick:s,src:t.seePass1?Dt.a:jt.a,alt:"img"})),l.a.createElement("label",{htmlFor:"Password"},"Confirm new Password"),l.a.createElement("div",null,l.a.createElement("input",{id:"ConfNewPassword",value:t.ConfNewPassword,autoComplete:"off",onChange:n,type:t.seePass2?"text":"password"}),l.a.createElement("img",{onClick:c,src:t.seePass2?Dt.a:jt.a,alt:"img"}))),l.a.createElement("button",{onClick:a},"Update"))},Dn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleImage1=function(){n.setState({seePass1:!n.state.seePass1})},n.handleImage2=function(){n.setState({seePass2:!n.state.seePass2})},n.handleChange=function(e){n.setState(Object(At.a)({},e.target.id,e.target.value))},n.userLogin=Object(se.a)(le.a.mark((function e(){var t,a,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer ".concat(n.state.token),e.next=3,fetch("http://healthcarebackend.xyz/api/auth/password-change/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({new_password:n.state.NewPassword,confirm_password:n.state.ConfNewPassword})});case 3:return a=e.sent,e.next=6,a.json();case 6:l=e.sent,console.log(l),!1===l.success?ce.NotificationManager.error("".concat(l.error),"Failed!",2e3):!0===l.success&&(ce.NotificationManager.success("".concat(l.message),"Successful!",2e3),n.props.history.push("/client-settings"));case 9:case"end":return e.stop()}}),e)}))),n.state={seePass1:!1,seePass2:!1,NewPassword:"",ConfNewPassword:"",token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.location.state||this.props.history.push("/client-settings")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(On,{props:this.state,userLogin:this.userLogin,handleImage1:this.handleImage1,handleImage2:this.handleImage2,handleChange:this.handleChange}))}}]),a}(n.Component),Pn=a(260),jn=a.n(Pn);a(422);var In=function(e){var t=e.handleClient,a=e.props,n=e.handleSort,s=e.handleSortBySpec;return l.a.createElement("div",{className:"mainDoctorsDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("img",{src:jn.a,alt:"my patients"}),l.a.createElement("h4",null,"Doctors")),l.a.createElement("div",{className:"doctorsDiv"},l.a.createElement("label",null,"Speciality:"," ",l.a.createElement("select",{onChange:s},l.a.createElement("option",{value:""},"Choose"),a.speciality.map((function(e,t){return l.a.createElement("option",{value:e,key:t},e)})))),l.a.createElement("label",null,"Sort by:"," ",l.a.createElement("select",{onClick:n},l.a.createElement("option",{value:""},"Sort it..."),l.a.createElement("option",{value:"nameAZ"},"Name: A-Z"),l.a.createElement("option",{value:"nameZA"},"Name: Z-A")))),l.a.createElement("div",{className:"row2"},a.filteredByspec.map((function(e){return null===e.id?null:l.a.createElement("div",{key:e.id,className:"list-group"},l.a.createElement("button",{"data-id":e.id,className:"list-group-item",onClick:function(){return t(e.id)}},e.doctor,l.a.createElement("img",{src:"/media/default.jpg"===e.image?Kt.a:"http://healthcarebackend.xyz".concat(e.image),alt:"cliet profile"})))}))))},Mn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClient=function(e){n.props.history.push("/client/Doctor-detail/".concat(e))},n.handleSort=function(e){if("nameAZ"===e.target.value){var t=n.state.filteredByspec.sort((function(e,t){return e.doctor>t.doctor?1:e.doctor<t.doctor?-1:0}));n.setState({filteredByspec:t})}else if("nameZA"===e.target.value){var a=n.state.filteredByspec.sort((function(e,t){return e.doctor>t.doctor?-1:e.doctor<t.doctor?1:0}));n.setState({filteredByspec:a})}},n.handleSortBySpec=function(e){console.log(e.target.value);var t=n.state.doctors.filter((function(t){return t.speciality===e.target.value}));n.setState({filteredByspec:t})},n.doctors=function(){var e="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/doctor/list/",{headers:{Authorization:e}}).then((function(e){console.log(e);var t=e.data.data.map((function(e){return e.speciality})).filter((function(e,t,a){return a.indexOf(e)===t}));n.setState({doctors:e.data.data,filteredByspec:e.data.data,speciality:t})}))},n.state={doctors:[],speciality:[],filteredByspec:[],token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.doctors()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(In,{props:this.state,handleClient:this.handleClient,handleSort:this.handleSort,handleSortBySpec:this.handleSortBySpec}))}}]),a}(n.Component);a(423);var An=function(e){e.handleClient;var t=e.doctor;return e.handleSort,l.a.createElement("div",{className:"mainDoctorDiv"},l.a.createElement("div",{className:"doctorsAbove"},l.a.createElement("img",{src:Kt.a,alt:"my patients"}),l.a.createElement("h4",null,"Doctor details")),l.a.createElement("div",{className:"row2"},t.map((function(e){return l.a.createElement(n.Fragment,{key:e.id},l.a.createElement("div",{className:"mainDoctorInfoDiv"},l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"Pricing: "),e.pricing),l.a.createElement("p",null,l.a.createElement("span",null,"Email visit: "),e.email_exam_price),l.a.createElement("p",null,l.a.createElement("span",null,"Video: "),e.web_exam_price),l.a.createElement("p",null,l.a.createElement("span",null,"Video follow up: "),e.web_exam_follow_price),l.a.createElement("p",null,l.a.createElement("span",null,"Working Hours ")),l.a.createElement("p",null,l.a.createElement("span",null,"Mon-Fri: "),e.workingHours)),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,"First Name: "),e.doctor.split(" ")[0]),l.a.createElement("p",null,l.a.createElement("span",null,"Last Name: "),e.doctor.split(" ")[1]),l.a.createElement("p",null,l.a.createElement("span",null,"Speciality: "),e.speciality),l.a.createElement("p",null,l.a.createElement("span",null,"Phone number: "),e.phone),l.a.createElement("p",null,l.a.createElement("span",null,"E-mail: "),e.email)),l.a.createElement("div",{className:"imageDiv"},"/media/default.jpg"!==e.image?l.a.createElement("img",{src:"http://healthcarebackend.xyz".concat(e.image),alt:"pic"}):l.a.createElement("p",null,"+"))),l.a.createElement("div",{className:"BiographyDiv"},l.a.createElement("p",{className:"pForBio"},"Biography"),l.a.createElement("textarea",{disabled:!0,placeholder:e.biography})))}))))},_n=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).doctor=function(e){var t="Bearer ".concat(n.state.token);he.a.get("http://healthcarebackend.xyz/api/client/doc/".concat(e,"/"),{headers:{Authorization:t}}).then((function(e){console.log(e.data.data),n.setState({doctor:[e.data.data]})}))},n.state={doctor:[],token:sessionStorage.getItem("accessToken")},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.doctor(e)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",null,l.a.createElement(ae,null),l.a.createElement(ge,null))),l.a.createElement(mt,null),l.a.createElement(An,{doctor:this.state.doctor}))}}]),a}(n.Component),Fn=a(179),Vn=a(261),Tn=a.n(Vn),Rn=a(91),Bn=a.n(Rn),Yn=a(180);function zn(){var e=Object(Fn.a)(["\n  height: 300px;\n"]);return zn=function(){return e},e}function Ln(){var e=Object(Fn.a)(["\n  padding: 20px;\n  display: flex;\n  height: 100vh;\n  width: 90%;\n  margin: auto;\n  flex-wrap: wrap;\n"]);return Ln=function(){return e},e}var Un=a(262).detectDevice();Un?console.log("detected handler: %s",Un):console.warn("no suitable handler found for current browser/device");var qn=Yn.a.div(Ln()),Wn=Yn.a.video(zn()),Hn=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),l.a.createElement(Wn,{playsInline:!0,autoPlay:!0,ref:t})},Jn={height:window.innerHeight/2,width:window.innerWidth/2},Gn=function(e){var t=Object(n.useState)([]),a=Object(Q.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),o=i[0],d=i[1],m=Object(n.useRef)(),u=Object(n.useRef)(),p=Object(n.useRef)([]),h=e.match.params.roomID;return Object(n.useEffect)((function(){m.current=Tn.a.connect("ws://localhost:3000"),navigator.mediaDevices.getUserMedia({video:Jn,audio:!0}).then((function(e){u.current.srcObject=e,m.current.emit("join room",h),m.current.on("all users",(function(t){var a=[];t.forEach((function(t){var n=function(e,t,a){var n=new Bn.a({initiator:!0,trickle:!1,stream:a});return n.on("signal",(function(a){m.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a})})),n}(t,m.current.id,e);p.current.push({peerID:t,peer:n}),a.push(n)})),c(a)})),m.current.on("user joined",(function(t){var a=function(e,t,a){var n=new Bn.a({initiator:!1,trickle:!1,stream:a});return n.on("signal",(function(e){m.current.emit("returning signal",{signal:e,callerID:t})})),n.signal(e),n}(t.signal,t.callerID,e);p.current.push({peerID:t.callerID,peer:a}),c((function(e){return[].concat(Object(Ne.a)(e),[a])}))})),m.current.on("receiving returned signal",(function(e){p.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}));var t=e.getAudioTracks()[0],a=e.getVideoTracks()[0];document.querySelector(".iconMic").addEventListener("click",(function(){t.enabled=!t.enabled})),document.querySelector(".iconVideo").addEventListener("click",(function(){a.enabled=!a.enabled}))})),document.querySelector(".iconPhone").addEventListener("click",(function(){window.close()}))}),[]),console.log(s),l.a.createElement(qn,null,l.a.createElement("div",{style:{position:"relative",width:"50%",height:"300px"},onMouseOver:function(){d(!0)},onMouseOut:function(){d(!1)}},l.a.createElement(Wn,{muted:!0,ref:u,autoPlay:!0,playsInline:!0}),l.a.createElement("div",{style:{display:o?"flex":"none",position:"absolute",zIndex:"5",width:"100%",top:"80%",justifyContent:"space-around"}},l.a.createElement("button",{style:{fontSize:"40px",width:"50px",height:"50px",color:"white",borderRadius:"50%",background:"transparent",border:"1px solid white"},className:"iconMic"},l.a.createElement(fe.e,null)),l.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconPhone"},l.a.createElement(fe.g,null)),l.a.createElement("button",{style:{fontSize:"40px",width:"50px",color:"white",border:"1px solid white",height:"50px",borderRadius:"50%",background:"transparent"},className:"iconVideo"},l.a.createElement(fe.i,null)))),s.map((function(e,t){if(e.readable)return l.a.createElement(Hn,{key:t,peer:e})})))},Qn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ee.d,null),l.a.createElement(ee.b,{path:"/",exact:!0,component:ye}),l.a.createElement(ee.b,{path:"/register",exact:!0,component:Mt}),l.a.createElement(ee.b,{path:"/login",exact:!0,component:Vt}),l.a.createElement(ee.b,{path:"/logout",exact:!0,component:Rt}),l.a.createElement(ee.b,{path:"/forgot-password",exact:!0,component:za}),l.a.createElement(ee.b,{path:"/api/auth/reset-confirm/:id/",exact:!0,component:Ua}),l.a.createElement(ee.b,{path:"/room/:roomID",exact:!0,component:Gn}),l.a.createElement(ee.b,{path:"/api/auth/activate/:id/",exact:!0,component:qa}),l.a.createElement(En,{exact:!0,path:"/dashboard-client",component:ht}),l.a.createElement(En,{path:"/client/doc/:id",exact:!0,component:aa}),l.a.createElement(En,{path:"/client/waiting-room",exact:!0,component:$a}),l.a.createElement(En,{path:"/client/profile",exact:!0,component:ca}),l.a.createElement(En,{path:"/client/exam/detail/:id",exact:!0,component:Ba}),l.a.createElement(En,{path:"/client/video/exam/detail/:id",exact:!0,component:Fa}),l.a.createElement(En,{path:"/client/queue/exam/detail/:id",exact:!0,component:Ta}),l.a.createElement(En,{path:"/client-update",exact:!0,component:Dn}),l.a.createElement(En,{path:"/client-settings",exact:!0,component:wn}),l.a.createElement(En,{path:"/client/video-request",exact:!0,component:Aa}),l.a.createElement(En,{path:"/client/Doctor-list",exact:!0,component:Mn}),l.a.createElement(En,{path:"/client/Doctor-detail/:id/",exact:!0,component:_n}),l.a.createElement(En,{path:"/initiate",exact:!0,component:Lt}),l.a.createElement(b.Elements,null,l.a.createElement(En,{path:"/checkout",exact:!0,component:Qt})),l.a.createElement(vn,{path:"/dashboard-doctor",exact:!0,component:vt}),l.a.createElement(vn,{path:"/doctor/calendar",exact:!0,component:rn}),l.a.createElement(vn,{path:"/doctor/exam/detail/:id",exact:!0,component:kt}),l.a.createElement(vn,{path:"/doctor/video/exam/detail/:id",exact:!0,component:da}),l.a.createElement(vn,{path:"/doctor/profile/",exact:!0,component:ea}),l.a.createElement(vn,{path:"/doctor/record/:id",exact:!0,component:Da}),l.a.createElement(vn,{path:"/doctor/processing/video/exam/:id",exact:!0,component:wa}),l.a.createElement(vn,{path:"/doctors-clients",exact:!0,component:Ga}),l.a.createElement(vn,{path:"/doctors-email-list",exact:!0,component:mn}),l.a.createElement(vn,{path:"/doctors-video-list",exact:!0,component:pn}),l.a.createElement(vn,{path:"/doctors-queue-list",exact:!0,component:gn}),l.a.createElement(vn,{path:"/doctors-settings",exact:!0,component:xn}),l.a.createElement(vn,{path:"/doctors-update",exact:!0,component:Cn}),l.a.createElement(ce.NotificationContainer,null),l.a.createElement(ee.d,null))}}]),a}(n.Component),Zn=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).checkUser=function(){var e=sessionStorage.getItem("accessToken"),t=sessionStorage.getItem("expiresIn"),a=sessionStorage.getItem("is_doctor"),l=localStorage.getItem("refreshToken");e&&t&&l&&(n.store.dispatch(N({access_token:e,expires_in:t,refresh_token:l,is_doctor:a})),n.store.dispatch({type:"USERS_LOGIN_SUCCESS"}))};var l=Object(h.a)(),s=Object(u.createStore)(A,Object(y.composeWithDevTools)());return s.runSaga=l.run,n.sagaMiddleware=l,n.store=s,n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkUser()}},{key:"componentDidUpdate",value:function(){this.checkUser()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(b.StripeProvider,{apiKey:"pk_test_EolntZ7skKXUqmWzbnpuo1zy00ZxWVnWf3"},l.a.createElement(p.a,{store:this.store},l.a.createElement(v,{sagaMiddleware:this.sagaMiddleware},l.a.createElement(m.a,null,l.a.createElement(Qn,null))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Zn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){e.exports=a.p+"static/media/icon_Waiting_Room_blue.a97bcac5.svg"},50:function(e,t,a){e.exports=a.p+"static/media/attach_white.f61deb9e.svg"},54:function(e,t,a){e.exports=a.p+"static/media/icon_Video_Appointment_blue.55d8376d.svg"},76:function(e,t,a){e.exports=a.p+"static/media/icon_Email_blue.5756618d.svg"},77:function(e,t,a){e.exports=a.p+"static/media/icon_settings_blue.c2a084f2.svg"},82:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_client_blue_23px.da9cdbca.svg"},92:function(e,t,a){e.exports=a.p+"static/media/chek.9dc81cc0.svg"},93:function(e,t,a){e.exports=a.p+"static/media/icon_Log_Out_blue.3d6339e9.svg"},96:function(e,t,a){e.exports=a.p+"static/media/icon_my_profile_doctor_blue_23px.c8fc88ec.svg"}},[[269,1,2]]]);
//# sourceMappingURL=main.6977c048.chunk.js.map